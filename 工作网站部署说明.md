# 小游戏展示网站部署说明

## 概述
已成功在服务器中添加小游戏展示网站，通过路径 `/games/` 访问。

## 已完成的配置

### 1. Nginx配置修改
在 `config/nginx.conf` 中添加了以下配置：

```nginx
# 小游戏展示网站
location /games/ {
    alias /var/www/html/games/;
    index index.html;

    # SPA路由支持
    try_files $uri $uri/ /games/index.html;

    # 缓存静态资源
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

### 2. 部署脚本
创建了 `scripts/deploy-games-site.sh` 脚本用于自动部署。

## 部署步骤

### 步骤1: 上传nginx配置
将修改后的 `config/nginx.conf` 上传到服务器的nginx配置目录：

```bash
# 备份原有配置
sudo cp /etc/nginx/sites-available/douyin-admin /etc/nginx/sites-available/douyin-admin.backup

# 上传新配置
scp config/nginx.conf user@server:/etc/nginx/sites-available/douyin-admin

# 重新加载nginx
sudo nginx -t  # 测试配置
sudo systemctl reload nginx
```

### 步骤2: 部署网站文件
运行部署脚本：

```bash
# 修改脚本中的服务器信息
vim scripts/deploy-games-site.sh

# 设置执行权限
chmod +x scripts/deploy-games-site.sh

# 运行部署
./scripts/deploy-games-site.sh
```

或者手动部署：

```bash
# 在服务器上创建目录
sudo mkdir -p /var/www/html/games

# 复制文件
scp -r src/games-site/* user@server:/var/www/html/games/

# 设置权限
sudo chown -R www-data:www-data /var/www/html/games
sudo chmod -R 755 /var/www/html/games
```

### 步骤3: 验证部署
访问网站：`http://ecpm.game985.vip/games/`

## 网站功能
- 小游戏展示列表
- 搜索功能
- 响应式设计
- 多个内置小游戏

## 注意事项
1. 确保nginx配置正确加载
2. 检查文件权限设置
3. 验证所有静态资源正常加载
4. 测试游戏链接是否正常工作

## 故障排除
如果网站无法访问：
1. 检查nginx错误日志：`sudo tail -f /var/log/nginx/error.log`
2. 验证文件是否存在：`ls -la /var/www/html/games/`
3. 测试nginx配置：`sudo nginx -t`
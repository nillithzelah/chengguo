# 抖音小游戏广告数据获取指南

## 🎯 概述

现在您的系统已经配置了真实的抖音API凭证，可以获取真实的广告数据了！

## 📋 已完成的配置

### ✅ API凭证配置
- **App Key**: 从环境变量 `VITE_DOUYIN_APP_KEY` 获取
- **App Secret**: 从环境变量 `VITE_DOUYIN_APP_SECRET` 获取
- **状态**: 通过环境变量配置（安全）

### ✅ 系统功能
- 自动获取Access Token
- 智能数据转换
- API错误处理和后备机制
- 开发环境测试工具

## 🚀 如何使用

### 1. 切换到真实数据模式

在页面顶部的数据源配置面板中：
1. 将开关切换到"真实API"
2. 系统会自动重新加载并使用抖音真实数据

### 2. 测试API连接

点击"连接测试"按钮来验证：
- API凭证是否正确
- 网络连接是否正常
- 数据获取是否成功

### 3. 配置广告主ID（可选）

如果您需要获取特定广告主的数据：
1. 点击"API配置"
2. 输入广告主ID
3. 保存配置

## 📊 数据说明

### 自动数据转换

系统会自动将抖音原始数据转换为统一格式：

| 抖音字段 | 系统字段 | 说明 |
|---------|---------|------|
| ad_id | adId | 广告ID |
| ad_name | gameName | 游戏名称 |
| budget | dailyBudget | 日预算 |
| ctr | ctr | 点击率 |
| cpm | cpm | 千次展示成本 |
| conversion | conversions | 转化数 |
| create_time | createdTime | 创建时间 |

### 智能推断

系统会根据广告内容智能推断：
- **游戏类型**: 根据游戏名称推断（动作、策略、益智等）
- **广告类型**: 根据创意名称推断（横幅、插屏、激励等）
- **投放平台**: 根据投放范围推断（Android、iOS、Web）

## 🔧 故障排除

### 常见问题

1. **API连接失败**
   - 检查网络连接
   - 验证App Key和App Secret是否正确
   - 确认抖音开放平台权限是否已开通

2. **数据获取为空**
   - 确认广告主ID是否正确
   - 检查时间范围设置
   - 验证账号权限

3. **Token过期**
   - 系统会自动刷新Token
   - 手动点击"刷新Token"按钮

### 后备机制

如果真实API不可用，系统会：
1. 自动显示警告信息
2. 降级使用Mock数据
3. 保持页面正常运行

## 🔐 安全说明

- API凭证仅存储在浏览器本地
- 不会上传到服务器
- 建议定期更新密钥

## 📞 技术支持

如遇到问题，请检查：
1. 浏览器控制台错误信息
2. 网络请求状态
3. API响应内容

系统提供了详细的日志记录，便于问题排查。

---

**恭喜！您现在可以获取真实的抖音小游戏广告数据了！** 🎉
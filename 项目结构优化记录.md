# 项目结构优化记录

## 📋 优化概述

本次项目结构优化于 2025年10月09日完成，旨在提升项目可维护性、规范性和开发效率。

## 🎯 优化目标

1. **规范化** - 消除中文目录名，提升跨平台兼容性
2. **模块化** - 按功能分类组织文件，提升代码组织性
3. **可维护性** - 清晰的文件结构，便于团队协作和维护
4. **扩展性** - 为未来功能扩展提供良好的基础结构

## 📊 优化成果对比

### 优化前主要问题

| 问题类型 | 具体表现 | 影响程度 |
|---------|---------|---------|
| 根目录混乱 | 混杂配置文件、日志、文档等多种文件类型 | 高 |
| 中文目录名 | `src/工作网站/` 等中文命名 | 中 |
| 游戏文件分散 | 游戏文件嵌套在src目录内 | 中 |
| 脚本文件无序 | 脚本文件平铺存放，缺乏分类 | 中 |
| 组件分类简单 | 组件缺乏细致的功能分类 | 低 |

### 优化后改进效果

| 优化项目 | 改进措施 | 效果评估 |
|---------|---------|---------|
| 根目录整理 | 创建专门目录分类存放不同类型文件 | ✅ 大幅提升 |
| 中文目录重命名 | `src/工作网站/` → `src/games-site/` | ✅ 完全解决 |
| 游戏文件重组 | 创建独立 `games/` 目录管理游戏文件 | ✅ 显著改善 |
| 脚本分类整理 | 按用途分类存放脚本文件 | ✅ 明显改善 |
| 源码结构优化 | 组件和页面按功能精细分类 | ✅ 大幅提升 |

## 🏗️ 当前项目结构

### 根目录结构

```
项目根目录/
├── 📁 src/                          # 主应用源码
│   ├── App.vue                      # 根组件
│   ├── main.ts                      # 入口文件
│   ├── env.d.ts                     # 类型声明
│   ├── 📁 api/                      # API接口层
│   ├── 📁 assets/                   # 静态资源
│   ├── 📁 components/               # 公共组件（已分类优化）
│   │   ├── ui/                      # 基础UI组件
│   │   ├── business/                # 业务组件
│   │   ├── common/                  # 通用组件
│   │   ├── breadcrumb/              # 面包屑导航
│   │   ├── chart/                   # 图表组件
│   │   ├── menu/                    # 菜单组件
│   │   ├── navbar/                  # 导航栏
│   │   └── tab-bar/                 # 标签栏
│   ├── 📁 config/                   # 配置文件
│   ├── 📁 directive/                # 自定义指令
│   ├── 📁 hooks/                    # 组合式函数
│   ├── 📁 layout/                   # 布局组件
│   ├── 📁 locale/                   # 国际化（纯中文）
│   ├── 📁 router/                   # 路由配置
│   ├── 📁 store/                    # 状态管理
│   ├── 📁 types/                    # 类型定义
│   ├── 📁 utils/                    # 工具函数
│   ├── 📁 views/                    # 页面视图（已分类优化）
│   │   ├── auth/                    # 认证相关页面
│   │   ├── dashboard/               # 仪表板页面
│   │   ├── system/                  # 系统管理页面
│   │   ├── shared/                  # 共享页面
│   │   ├── ad/                      # 广告数据模块
│   │   ├── user/                    # 用户管理模块
│   │   ├── login/                   # 登录页面
│   │   ├── game-management/         # 游戏管理
│   │   ├── not-found/               # 404页面
│   │   └── redirect/                # 重定向页面
│   └── 📁 games-site/               # 游戏网站（原工作网站）
├── 📁 database/                     # 数据库文件
│   └── database.sqlite              # SQLite数据库
├── 📁 logs/                         # 日志文件
│   ├── server.log                   # 服务日志
│   └── token-refresh-history.log    # Token刷新历史
├── 📁 deployment/                   # 部署相关文件
├── 📁 games/                        # 独立游戏文件管理
├── 📁 scripts/                      # 脚本文件（已分类）
│   ├── database/                    # 数据库脚本
│   ├── deployment/                  # 部署脚本
│   ├── maintenance/                 # 维护脚本
│   └── utils/                       # 工具脚本
├── 📁 config/                       # 构建配置
├── 📁 docs/                         # 项目文档
├── 📁 services/                     # 服务文件
├── 📁 models/                       # 数据模型
└── 核心配置文件...
```

## 📁 目录功能说明

### 核心目录

| 目录 | 功能说明 | 维护责任人 |
|------|---------|-----------|
| `src/` | 主应用源码，包含所有前端代码 | 前端开发团队 |
| `database/` | 数据库文件集中存放 | 后端开发团队 |
| `logs/` | 应用日志文件 | 运维团队 |
| `deployment/` | 部署相关配置和脚本 | 运维/DevOps团队 |
| `games/` | 独立游戏文件管理 | 游戏开发团队 |
| `scripts/` | 各类脚本工具集合 | 全栈开发团队 |

### 源码子目录

| 目录 | 功能说明 | 包含内容示例 |
|------|---------|-------------|
| `api/` | API接口层 | HTTP请求、接口定义 |
| `assets/` | 静态资源 | 图片、字体、样式文件 |
| `components/` | 可复用组件 | UI组件、业务组件 |
| `hooks/` | 组合式函数 | 自定义Hooks |
| `layout/` | 布局组件 | 页面布局结构 |
| `locale/` | 国际化 | 语言包文件 |
| `router/` | 路由配置 | 路由定义、守卫 |
| `store/` | 状态管理 | Pinia/Vuex模块 |
| `types/` | 类型定义 | TypeScript类型 |
| `utils/` | 工具函数 | 通用工具函数 |
| `views/` | 页面视图 | 具体页面组件 |

## 🔄 开发工作流程

### 新功能开发流程

1. **需求分析** - 确定功能所属模块
2. **目录规划** - 在对应目录下创建新文件
3. **代码开发** - 遵循现有结构规范
4. **测试验证** - 确保功能正常运行
5. **文档更新** - 更新相关文档

### 文件命名规范

```
页面组件：小写字母+连字符，如：user-management.vue
工具函数：驼峰命名，如：dateUtil.ts
类型定义：大驼峰命名，如：UserInfo.ts
配置文件：小写字母+连字符，如：vite.config.ts
```

## 🚀 部署指南

### 开发环境部署

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

### 生产环境部署

```bash
# 使用部署脚本
./scripts/deployment/deploy.sh

# 或使用PM2
pm2 start ecosystem.config.js
```

## 📝 维护指南

### 定期维护任务

1. **日志清理** - 每月清理过期日志文件
2. **依赖更新** - 定期更新npm包版本
3. **安全检查** - 检查和修复安全漏洞
4. **性能监控** - 监控应用性能指标

### 文件变更规范

1. **新增文件** - 在相应分类目录下创建
2. **删除文件** - 确保无其他文件引用后删除
3. **移动文件** - 更新所有相关引用路径
4. **重命名** - 同时更新导入和引用

## 🎯 未来优化计划

### 短期计划（1-3个月）

1. **API接口文档自动化** - 集成Swagger/OpenAPI
2. **单元测试覆盖** - 提升测试覆盖率至80%+
3. **CI/CD优化** - 完善自动化部署流程

### 中期计划（3-6个月）

1. **微服务架构** - 拆分为独立服务模块
2. **国际化完善** - 支持多语言切换
3. **性能优化** - 代码分割、懒加载优化

### 长期计划（6个月以上）

1. **架构升级** - 采用更先进的架构模式
2. **全栈解决方案** - 前后端深度集成
3. **云原生改造** - 支持云平台部署

## 📞 联系方式

如有疑问或建议，请联系：
- 项目负责人：开发团队
- 技术支持：技术支持团队
- 文档维护：文档维护人员

---

*本文档最后更新时间：2025年10月09日*
*文档版本：v1.0.0*
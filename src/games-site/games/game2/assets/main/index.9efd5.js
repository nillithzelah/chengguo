window.__require=function t(e,n,o){function a(r,c){if(!n[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return a(e[r][1][t]||t)},u,u.exports,t,e,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"ec837HPHdhNmbkWqoAlSNAg","AudioManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../Enum"),r=t("./DataManager"),c=t("./ResourceManager"),s=function(){function t(){this.audioSource=null}return t.getInstance=function(){return null===this._instance&&(this._instance=new this,this._instance.init()),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.audioSource=new cc.AudioSource,this.audioSource.loop=!0,this.audioSource.volume=.3},t.prototype.playMusic=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return r.default.instance.isMusicOn?this.audioSource.clip?(this.audioSource.play(),[2]):[4,c.default.instance.getClip(i.ENUM_AUDIO_CLIP.BGM)]:[2];case 1:return t=e.sent(),this.audioSource.clip=t,this.audioSource.play(),[2]}})})},t.prototype.stopMusic=function(){this.audioSource.stop()},t.prototype.playSound=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return r.default.instance.isSoundOn?[4,c.default.instance.getClip(t)]:[2];case 1:return n=o.sent(),[2,cc.audioEngine.playEffect(n,e)]}})})},t.prototype.stopSound=function(t){cc.audioEngine.stopEffect(t)},t._instance=null,t}();n.default=s,cc._RF.pop()},{"./../Enum":"Enum","./DataManager":"DataManager","./ResourceManager":"ResourceManager"}],Baselayer:[function(t,e,n){"use strict";cc._RF.push(e,"85f2bS+gIxJj5wlc4XZ3Qd4","Baselayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.zoomIn=function(t,e,n){void 0===e&&(e=1.5),void 0===n&&(n=.3),t.setScale(e);var o=cc.scaleTo(n,1);cc.tween(t).then(o).start()},e.prototype.zoomOut=function(t,e,n){void 0===e&&(e=.5),void 0===n&&(n=.3),t.setScale(e);var o=cc.scaleTo(n,1);cc.tween(t).then(o).start()},i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],Bottle:[function(t,e,n){"use strict";cc._RF.push(e,"57d40h0GvhN9YNrEaNu89kH","Bottle");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Enum"),c=t("../StaticInstance"),s=t("../Utils"),l=t("../manager/AudioManager"),u=t("../manager/DataManager"),d=t("../manager/EffectManager"),f=t("../manager/ResourceManager"),h=t("./Container"),p=cc._decorator,g=p.ccclass,y=p.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=1,e.isBack=!1,e.body=null,e.bodyShade=null,e.isMoving=!1,e.speed=1e3,e}return a(e,t),e.prototype.init=function(t){void 0===t&&(t={index:1,isBack:!1}),Object.assign(this,t),this.body=this.node.getChildByName("body"),this.bodyShade=this.body.getChildByName("bgshade"),this.setBody(this.index,this.isBack),this.node.hasEventListener("touchstart")||this.node.on("touchstart",this.onTouchStart,this),this.node.hasEventListener("touchmove")||this.node.on("touchmove",this.onTouchMove,this),this.node.hasEventListener("touchend")||this.node.on("touchend",this.onTouchOver,this),this.node.hasEventListener("touchcancel")||this.node.on("touchcancel",this.onTouchOver,this)},e.prototype.setBody=function(t,e){if(this.body&&this.bodyShade){var n=f.default.instance.getSprite("bottle"+t);if(n){var o=n.getRect(),a=o.width,i=o.height;this.body.getComponent(cc.Sprite).spriteFrame=n,this.body.width=1*a,this.body.height=1*i,this.bodyShade.getComponent(cc.Sprite).spriteFrame=n,this.bodyShade.active=e}}},e.prototype.getSlotIndex=function(t){var e=1;return t<0&&(e=0),t>0&&(e=2),e},e.prototype.setBodyAngle=function(t){0==t?(this.body.angle=30,this.body.x=15):1==t?this.body.angle=0:2==t&&(this.body.angle=-30,this.body.x=-15)},e.prototype.resetBodyAngle=function(){this.body.angle=0,this.body.x=0},e.prototype.setFront=function(){this.isBack=!1,this.bodyShade.active=!1},e.prototype.setMoving=function(t){t?(u.default.instance.current=this.node,this.node.group="ui"):(u.default.instance.current=null,this.node.group="default",this.isMoving=!1)},e.prototype.setClear=function(){var t=s.toXY(this.node.parent,c.StaticInstance.gameManager.stage);u.default.instance.powerStartPosArr.push(t),u.default.instance.clearNums+=1,d.default.instance.play("Collect",this.node.parent),this.node.removeFromParent()},e.prototype.onTouchStart=function(t){if(!(this.isBack||u.default.instance.current||this.isMoving||u.default.instance.status==r.ENUM_GAME_STATUS.UNRUNING||u.default.instance.isShuffling)){l.default.instance.playSound(r.ENUM_AUDIO_CLIP.GET_IN);var e=t.getLocation(),n=this.node.parent.convertToNodeSpaceAR(e);this.node.setPosition(n),this.resetBodyAngle(),this.setMoving(!0)}},e.prototype.onTouchMove=function(t){if(!(this.isBack||u.default.instance.current!=t.currentTarget||this.isMoving||u.default.instance.status==r.ENUM_GAME_STATUS.UNRUNING||u.default.instance.isShuffling)){var e=t.getLocation(),n=this.node.parent.convertToNodeSpaceAR(e);this.node.setPosition(n)}},e.prototype.onTouchOver=function(t){var e=this;if(!(this.isBack||u.default.instance.current!=t.currentTarget||this.isMoving||u.default.instance.status==r.ENUM_GAME_STATUS.UNRUNING||u.default.instance.isShuffling)){for(var n=t.getLocation(),o=u.default.instance.frontContainers.filter(function(t){return!t.getChildByName("Bottle")&&!t.parent.parent.getComponent(h.default).isLock}),a=null,i=0,c=0;c<o.length;c++){var d=o[c],f=d.getBoundingBox(),p=d.parent.convertToNodeSpaceAR(n),g=cc.rect(p.x-this.body.width/2,p.y-this.body.height/2,this.body.width,this.body.height);if(f.intersects(g)){var y=new cc.Rect;f.intersection(y,g);var v=y.width*y.height;v>i&&(i=v,a=d)}}var _=this.node.parent;if(a){this.node.parent=a;var b=this.node.parent.convertToNodeSpaceAR(n);this.node.setPosition(b)}else a=_;var m=this.getSlotIndex(this.node.parent.x);this.setBodyAngle(m),this.isMoving=!0;var M=s.getDistance(this.node.getPosition(),cc.v2(0,0)),S=cc.moveTo(M/this.speed,cc.v2(0,0));cc.tween(this.node).then(S).call(function(){l.default.instance.playSound(r.ENUM_AUDIO_CLIP.GET_OUT),_!=a&&(_.parent.parent.getComponent(h.default).backToFront(),a.parent.parent.getComponent(h.default).clearFront()),e.setMoving(!1)}).start()}},i([y],e.prototype,"index",void 0),i([g],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/EffectManager":"EffectManager","../manager/ResourceManager":"ResourceManager","./Container":"Container"}],Container:[function(t,e,n){"use strict";cc._RF.push(e,"9d3556NhelJUKip2cr2YDWB","Container");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enum"),l=t("../StaticInstance"),u=t("../manager/AudioManager"),d=t("../manager/DataManager"),f=t("../manager/PoolManager"),h=t("../manager/SdkManager"),p=t("../manager/ToastManager"),g=t("./Bottle"),y=cc._decorator,v=y.ccclass,_=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=-1,e.front=null,e.back=null,e.lock=null,e.isLock=!1,e}var n;return a(e,t),n=e,e.prototype.init=function(t,e){void 0===e&&(e=!1),this.index=t,this.back=this.node.getChildByName("back"),this.back.children.forEach(function(t){if(d.default.instance.backContainers.push(t),e)t.removeAllChildren();else{var n=t.getChildByName("Bottle");n&&n.getComponent(g.default).init({isBack:!0})}}),this.front=this.node.getChildByName("front"),this.front.children.forEach(function(t){if(d.default.instance.frontContainers.push(t),e)t.removeAllChildren();else{var n=t.getChildByName("Bottle");n&&n.getComponent(g.default).init({isBack:!1})}}),this.lock=this.node.getChildByName("lock"),this.lock&&(this.isLock=!0,d.default.instance.lockes.push(this.lock),this.lock.getChildByName("body").on("click",this.onLockClick,this))},e.prototype.initFront=function(){if(!(d.default.instance.bottleData.length<=0)){var t=d.default.instance.bottleData[this.index].pop();if(t&&!(t.length<=0))for(var e=0;e<t.length;e++){var n=f.default.instance.getNode("Bottle"),o=n.getComponent(g.default);o.init({index:t[e],isBack:!1}),n.parent=this.front.children[e],o.setBodyAngle(e)}}},e.prototype.initBack=function(){if(!(d.default.instance.bottleData.length<=0)){var t=d.default.instance.bottleData[this.index].pop();if(t&&!(t.length<=0))for(var e=0;e<t.length;e++){var n=f.default.instance.getNode("Bottle"),o=n.getComponent(g.default);o.init({index:t[e],isBack:!0}),n.parent=this.back.children[e],o.setBodyAngle(e)}}},e.prototype.backToFront=function(){if(this.front.children.findIndex(function(t){return t.getChildByName("Bottle")})<0){for(var t=!1,e=0;e<this.back.children.length;e++){var n=this.back.children[e].getChildByName("Bottle");if(n){t=!0;var o=n.getComponent(g.default);n.parent=this.front.children[e],n.setPosition(cc.v2(0,0)),o.setFront()}}t&&this.initBack()}},e.prototype.clearFront=function(){for(var t=-1,e=!0,o=0;o<this.front.children.length;o++){if(!(i=this.front.children[o].getChildByName("Bottle"))){e=!1;break}var a=i.getComponent(g.default).index;if(t>=0){if(t!=a){e=!1;break}}else t=a}if(e){for(u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLEAR),o=0;o<this.front.children.length;o++){var i;(i=this.front.children[o].getChildByName("Bottle")).getComponent(g.default).setClear()}this.backToFront(),d.default.instance.lockes.forEach(function(t){var e=t.getChildByName("num").getComponent(cc.Label),o=e.string,a=parseInt(o)-1;e.string=""+a,a<=0&&t.parent.getComponent(n).setLockOpen()}),l.StaticInstance.uiManager.isActive(s.ENUM_UI_TYPE.ICE)&&(l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.ICE,!1),l.StaticInstance.uiManager.setMainTimer(!0),l.StaticInstance.uiManager.setMainTimerSound(!0)),l.StaticInstance.uiManager.setMainProgress(),1==d.default.instance.level&&l.StaticInstance.gameManager.tipNode&&l.StaticInstance.gameManager.tipNode.removeFromParent()}l.StaticInstance.gameManager.onGameCheck()},e.prototype.onLockClick=function(){var t=this;u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),h.default.instance.showVideoAd(function(e){return r(t,void 0,void 0,function(){return c(this,function(){return h.default.instance.getPlatform()||p.default.instance.show(e,{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)}),this.setLockOpen(),[2]})})},function(t){p.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})})},e.prototype.setLockOpen=function(){var t=this;u.default.instance.playSound(s.ENUM_AUDIO_CLIP.UNLOCK),this.isLock=!1;var e=d.default.instance.lockes.findIndex(function(e){return e==t.lock});d.default.instance.lockes.splice(e,1),this.lock.removeFromParent()},n=i([v],e)}(cc.Component));n.default=_,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/PoolManager":"PoolManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./Bottle":"Bottle"}],DataManager:[function(t,e,n){"use strict";cc._RF.push(e,"730a3DszhpGB4lxakYD51PT","DataManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.TREE_DATA=n.LEVEL_DATA=n.GameType=n.OVERTTIME_TIMER_SECONDS=void 0;var o=t("../Enum"),a=360;n.OVERTTIME_TIMER_SECONDS=60,function(t){t.LEVEL="LEVEL",t.EVERYDAY="EVERYDAY"}(n.GameType||(n.GameType={})),n.LEVEL_DATA=[{prefab:"Level1",pairs:2,isRandom:!1},{prefab:"Level2",pairs:3,isRandom:!1},{prefab:"Level3",pairs:4,isRandom:!0},{prefab:"Level4",pairs:8,isRandom:!0},{prefab:"Level5",pairs:9,isRandom:!0},{prefab:"Level6",pairs:28,isRandom:!0},{prefab:"Level7",pairs:40,isRandom:!0},{prefab:"Level7",pairs:60,isRandom:!0}],n.TREE_DATA=[0,5,10,20,30,50,80,100,150,200,500,1e3,5e3,8e3,1e4,15e3,2e4,25e3,5e4];var i=function(){function t(){this.status=o.ENUM_GAME_STATUS.UNRUNING,this.loadingRate=0,this._isMusicOn=!0,this._isSoundOn=!0,this.isShakeOn=!1,this.game={appid:"wx9eb0910624184e41",url:"https://store.cocos.com/app/detail/4951"},this.level=1,this.everydayLevel=4001,this.levelMax=1,this.current=null,this.bottleData=[],this.frontContainers=[],this.backContainers=[],this.clearNums=0,this.hearts=5,this.heartCollectByVideo=1,this.powers=5,this.powerCollectByVideo=50,this.heartRefreshTime=60,this.lastHeartRefreshTime=0,this.lastHeartUpdateTime=0,this.timer=a,this.treePower=0,this.treeIndex=0,this.shuffleLoopNum=0,this.isShuffling=!1,this.combo=0,this.comboTimer=20,this.powerStartPosArr=[],this.powerCollectCurrent=0,this.lockes=[]}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMusicOn",{get:function(){return this._isMusicOn},set:function(t){this._isMusicOn=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSoundOn",{get:function(){return this._isSoundOn},set:function(t){this._isSoundOn=t},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.status=o.ENUM_GAME_STATUS.UNRUNING,this.current=null,this.backContainers=[],this.frontContainers=[],this.clearNums=0,this.bottleData=[],this.timer=a,this.shuffleLoopNum=0,this.isShuffling=!1,this.combo=0,this.powerStartPosArr=[],this.powerCollectCurrent=0,this.lockes=[]},t.prototype.save=function(){cc.sys.localStorage.setItem("CC_MATCH_CONTAINER",JSON.stringify({isSoundOn:this.isSoundOn,isMusicOn:this.isMusicOn,isShakeOn:this.isShakeOn,level:this.level,levelMax:this.levelMax,hearts:this.hearts,powers:this.powers,lastHeartRefreshTime:this.lastHeartRefreshTime,lastHeartUpdateTime:this.lastHeartUpdateTime,treePower:this.treePower,treeIndex:this.treeIndex}))},t.prototype.restore=function(){var t=cc.sys.localStorage.getItem("CC_MATCH_CONTAINER");try{var e=JSON.parse(t);this.isMusicOn=!1!==(null==e?void 0:e.isMusicOn),this.isSoundOn=!1!==(null==e?void 0:e.isSoundOn),this.isShakeOn=!1!==(null==e?void 0:e.isShakeOn),this.level="number"==typeof e.level?e.level:1,this.levelMax="number"==typeof e.levelMax?e.levelMax:1,this.hearts="number"==typeof e.hearts?e.hearts:5,this.powers="number"==typeof e.powers?e.powers:5,this.lastHeartRefreshTime="number"==typeof e.lastHeartRefreshTime?e.lastHeartRefreshTime:0,this.lastHeartUpdateTime="number"==typeof e.lastHeartUpdateTime?e.lastHeartUpdateTime:0,this.treePower="number"==typeof e.treePower?e.treePower:0,this.treeIndex="number"==typeof e.treeIndex?e.treeIndex:0}catch(n){this.isMusicOn=!0,this.isSoundOn=!0,this.isShakeOn=!1,this.level=1,this.levelMax=1,this.hearts=5,this.powers=5,this.lastHeartRefreshTime=0,this.lastHeartUpdateTime=0,this.treePower=0,this.treeIndex=0}},t._instance=null,t}();n.default=i,cc._RF.pop()},{"../Enum":"Enum"}],EffectManager:[function(t,e,n){"use strict";cc._RF.push(e,"def54s79C1DBq7aJq3x4CWS","EffectManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./PoolManager"),a=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.play=function(t,e,n){var a=o.default.instance.getNode(""+t,e);if(n&&n.pos&&a.setPosition(n.pos),a.getComponent(cc.Animation)){var i=a.getComponent(cc.Animation);i.on("finished",function(){a.removeFromParent()}),i.play()}else a.getComponent(cc.ParticleSystem)&&a.getComponent(cc.ParticleSystem).resetSystem()},t._instance=null,t}();n.default=a,cc._RF.pop()},{"./PoolManager":"PoolManager"}],Enum:[function(t,e,n){"use strict";cc._RF.push(e,"50f2e0oDptJt4SjWGm8di2L","Enum"),Object.defineProperty(n,"__esModule",{value:!0}),n.ENUM_RESOURCE_TYPE=n.ENUM_GAME_EVENT=n.ENUM_UI_TYPE=n.ENUM_AUDIO_CLIP=n.ENUM_GAME_STATUS=void 0,function(t){t.UNRUNING="UNRUNING",t.RUNING="RUNING"}(n.ENUM_GAME_STATUS||(n.ENUM_GAME_STATUS={})),function(t){t.BGM="bgm",t.CLICK="click",t.LOSE="lose",t.WIN="win",t.COLLECT="collect",t.TIMER="timer",t.COLLECT_POWER="collect_power",t.LEVEL_UP="level_up",t.GET_IN="get_in",t.GET_OUT="get_out",t.CLEAR="clear",t.SHUFFLE="shuffle",t.SKILL_TIME="skill_time",t.SKILL_DELETE="skill_delete",t.MONEY="money",t.UNLOCK="unlock"}(n.ENUM_AUDIO_CLIP||(n.ENUM_AUDIO_CLIP={})),function(t){t.MENU="MenuLayer",t.MAIN="MainLayer",t.SETTING="SettingLayer",t.EXIT="ExitLayer",t.LOSE="LoseLayer",t.WIN="WinLayer",t.RANK="RankLayer",t.ICE="IceLayer"}(n.ENUM_UI_TYPE||(n.ENUM_UI_TYPE={})),n.ENUM_GAME_EVENT||(n.ENUM_GAME_EVENT={}),n.ENUM_RESOURCE_TYPE=[{content:cc.AudioClip,path:"audio",type:"audio",ratio:.4},{content:cc.Prefab,path:"prefab",type:"prefab",ratio:.3},{content:cc.SpriteFrame,path:"sprite",type:"sprite",ratio:.3}],cc._RF.pop()},{}],EventManager:[function(t,e,n){"use strict";cc._RF.push(e,"bcae8q0UKhLAL4D4SoN+gEr","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.eventMap=new Map}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n){this.eventMap.has(t)?this.eventMap.get(t).push({event:e,context:n}):this.eventMap.set(t,[{event:e,context:n}])},t.prototype.off=function(t,e){if(this.eventMap.has(t)){var n=this.eventMap.get(t),o=n.findIndex(function(t){return t.event==e});o>-1&&n.splice(o,1)}},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.eventMap.has(t)){var o=this.eventMap.get(t);o.forEach(function(t){var n=t.event,o=t.context;o?n.apply(o,e):n(e)})}},t.prototype.clear=function(){this.eventMap.clear()},t._instance=null,t}();n.default=o,cc._RF.pop()},{}],ExitLayer:[function(t,e,n){"use strict";cc._RF.push(e,"30bdbeLI7FCC6dF2SvgX/Hg","ExitLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Enum"),c=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../manager/DataManager"),d=t("../manager/SdkManager"),f=cc._decorator,h=f.ccclass,p=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnSubmit=null,e.btnClose=null,e.btnMusic=null,e.btnSound=null,e.btnShake=null,e}return a(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnSubmit=cc.find("btn_submit",this.panel),this.btnClose=cc.find("btn_close",this.panel),this.btnSubmit.on("click",this.onSubmitClick,this),this.btnClose.on("click",this.onCloseClick,this),this.btnMusic=cc.find("lists/item_music/toggle",this.panel),this.btnMusic.on("click",this.onMusicClick,this),this.btnSound=cc.find("lists/item_sound/toggle",this.panel),this.btnSound.on("click",this.onSoundClick,this),this.btnShake=cc.find("lists/item_shake/toggle",this.panel),this.btnShake.on("click",this.onShakeClick,this)},e.prototype.onDestroy=function(){this.btnSubmit.off("click",this.onSubmitClick,this),this.btnClose.off("click",this.onCloseClick,this),this.btnMusic.off("click",this.onMusicClick,this),this.btnSound.off("click",this.onSoundClick,this),this.btnShake.off("click",this.onShakeClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),this.rendorMusic(),this.rendorSound(),this.rendorShake(),d.default.instance.showInterstitialAd()},e.prototype.onDisable=function(){},e.prototype.onCloseClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.isActive(r.ENUM_UI_TYPE.ICE)||(c.StaticInstance.uiManager.setMainTimer(!0),c.StaticInstance.uiManager.setMainTimerSound(!0)),c.StaticInstance.uiManager.toggle(r.ENUM_UI_TYPE.EXIT,!1)},e.prototype.onSubmitClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),u.default.instance.status=r.ENUM_GAME_STATUS.UNRUNING,c.StaticInstance.uiManager.toggle(r.ENUM_UI_TYPE.MAIN,!1),c.StaticInstance.uiManager.toggle(r.ENUM_UI_TYPE.EXIT,!1),c.StaticInstance.uiManager.toggle(r.ENUM_UI_TYPE.ICE,!1),c.StaticInstance.uiManager.toggle(r.ENUM_UI_TYPE.MENU)},e.prototype.onSoundClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isSoundOn=!u.default.instance.isSoundOn,u.default.instance.save(),this.rendorSound()},e.prototype.onMusicClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isMusicOn=!u.default.instance.isMusicOn,u.default.instance.save(),u.default.instance.isMusicOn?s.default.instance.playMusic():s.default.instance.stopMusic(),this.rendorMusic()},e.prototype.onShakeClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isShakeOn=!u.default.instance.isShakeOn,u.default.instance.save(),this.rendorShake()},e.prototype.rendorMusic=function(){this.btnMusic.getChildByName("on").active=u.default.instance.isMusicOn,this.btnMusic.getChildByName("off").active=!u.default.instance.isMusicOn},e.prototype.rendorSound=function(){this.btnSound.getChildByName("on").active=u.default.instance.isSoundOn,this.btnSound.getChildByName("off").active=!u.default.instance.isSoundOn},e.prototype.rendorShake=function(){this.btnShake.getChildByName("on").active=u.default.instance.isShakeOn,this.btnShake.getChildByName("off").active=!u.default.instance.isShakeOn},i([h],e)}(l.default));n.default=p,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],FadeManager:[function(t,e,n){"use strict";cc._RF.push(e,"00872TxwjFFprih9XF/Yufu","FadeManager");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../StaticInstance"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){this.node.active=!1,r.StaticInstance.setFadeManager(this)},e.prototype.fadeIn=function(t){var e=this;return void 0===t&&(t=.2),new Promise(function(n){e.node.active=!0,e.node.opacity=0,cc.tween(e.node).to(t,{opacity:255}).call(function(){n(null)}).start()})},e.prototype.fadeOut=function(t){var e=this;return void 0===t&&(t=.2),new Promise(function(n){e.node.active=!0,e.node.opacity=255,cc.tween(e.node).to(t,{opacity:0}).call(function(){e.node.active=!1,n(null)}).start()})},i([s],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../StaticInstance":"StaticInstance"}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"8d970VZoPFL/L9/Lg/KHxlp","GameManager");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],r=0,c=i.length;r<c;r++,a++)o[a]=i[r];return o};Object.defineProperty(n,"__esModule",{value:!0});var l=cc._decorator,u=l.ccclass,d=(l.property,t("../Enum")),f=t("../StaticInstance"),h=t("../Utils"),p=t("../game/Bottle"),g=t("../game/Container"),y=t("./AudioManager"),v=t("./DataManager"),_=t("./PoolManager"),b=t("./SdkManager"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stage=null,e.containers=[],e.tipNode=null,e}return a(e,t),e.prototype.onLoad=function(){f.StaticInstance.setGameManager(this),this.stage=cc.find("Stage",this.node)},e.prototype.onDestroy=function(){},e.prototype.onGameStart=function(t){v.default.instance.reset(),this.initGame(t);var e=v.default.instance.level;b.default.instance.sendEvent&&b.default.instance.sendEvent("start_game",{level:e})},e.prototype.getGameStatus=function(){for(var t,e=0,n=new Map,o=v.default.instance.frontContainers.filter(function(t){return!t.parent.parent.getComponent(g.default).isLock}),a=0;a<o.length;a++){var i=o[a].getChildByName("Bottle");if(i){var r=i.getComponent(p.default).index;n.has(r)?n.set(r,n.get(r)+1):n.set(r,1)}else e++}return n.forEach(function(e){(void 0===t||e>t)&&(t=e)}),{isGameLose:0==e,isGameShuffle:t<3&&e<=2||0==e}},e.prototype.onGameShuffle=function(t){var e=this;void 0===t&&(t=0),v.default.instance.isShuffling=!0;var n=[];if(this.containers.forEach(function(t){t.getChildByName("back").children.forEach(function(t){var e=t.getChildByName("Bottle");e&&(n.push(e.getComponent(p.default).index),e.destroy())}),t.getChildByName("front").children.forEach(function(t){var e=t.getChildByName("Bottle");e&&(n.push(e.getComponent(p.default).index),e.destroy())})}),v.default.instance.bottleData.forEach(function(t){t.forEach(function(t){t&&t.length>0&&n.push.apply(n,t)})}),t>0){for(var o=[],a=0;a<n.length;a++){var i=n[a];if(o.length>=t)break;o.indexOf(i)>=0||o.push(i)}v.default.instance.lockes.forEach(function(t){var e=t.getChildByName("num").getComponent(cc.Label),n=e.string,o=parseInt(n)-1;e.string=""+o,o<=0&&t.parent.getComponent(g.default).setLockOpen()}),f.StaticInstance.uiManager.isActive(d.ENUM_UI_TYPE.ICE)&&(f.StaticInstance.uiManager.toggle(d.ENUM_UI_TYPE.ICE,!1),f.StaticInstance.uiManager.setMainTimer(!0),f.StaticInstance.uiManager.setMainTimerSound(!0)),this.containers.forEach(function(t){_.default.instance.getNode("Collect",t);var n=h.toXY(t,e.stage);v.default.instance.powerStartPosArr.push(n)}),n=n.filter(function(t){return-1==o.indexOf(t)}),v.default.instance.clearNums+=3*o.length}if(n.length<=0)this.onGameOver(d.ENUM_UI_TYPE.WIN);else{n=h.shuffle(n),this.generateGroupData(n);for(var r=0;r<this.containers.length;r++){var c=this.containers[r].getComponent(g.default);c.initFront(),c.initBack()}this.scheduleOnce(function(){e.getGameStatus().isGameShuffle?(v.default.instance.shuffleLoopNum+=1,v.default.instance.shuffleLoopNum<1e3?e.onGameShuffle():(v.default.instance.isShuffling=!1,e.onGameOver(d.ENUM_UI_TYPE.LOSE))):v.default.instance.isShuffling=!1},.01)}},e.prototype.onGameCheck=function(){var t=Math.min(v.default.instance.level,v.LEVEL_DATA.length),e=3*v.LEVEL_DATA[t-1].pairs;if(v.default.instance.clearNums>=e)this.onGameOver(d.ENUM_UI_TYPE.WIN);else{var n=this.getGameStatus();n.isGameLose?this.onGameOver(d.ENUM_UI_TYPE.LOSE):n.isGameShuffle&&(y.default.instance.playSound(d.ENUM_AUDIO_CLIP.SHUFFLE),this.onGameShuffle())}},e.prototype.onGameOver=function(t){f.StaticInstance.uiManager.isActive(d.ENUM_UI_TYPE.ICE)&&f.StaticInstance.uiManager.toggle(d.ENUM_UI_TYPE.ICE,!1),v.default.instance.status=d.ENUM_GAME_STATUS.UNRUNING,f.StaticInstance.uiManager.setMainTimer(!1),f.StaticInstance.uiManager.setMainTimerSound(!1);var e=v.default.instance.level,n=t==d.ENUM_UI_TYPE.WIN;b.default.instance.sendEvent&&b.default.instance.sendEvent("finish_game",{level:e,win:n}),t==d.ENUM_UI_TYPE.WIN?(y.default.instance.playSound(d.ENUM_AUDIO_CLIP.WIN),this.scheduleOnce(function(){var t=v.default.instance.level;t+=1,v.default.instance.level=t,t>v.default.instance.levelMax&&(b.default.instance.setRank(t),v.default.instance.levelMax=t),v.default.instance.save(),f.StaticInstance.uiManager.toggle(d.ENUM_UI_TYPE.WIN)},.5)):(y.default.instance.playSound(d.ENUM_AUDIO_CLIP.LOSE),this.scheduleOnce(function(){f.StaticInstance.uiManager.toggle(d.ENUM_UI_TYPE.LOSE)},.5))},e.prototype.initGame=function(t){return r(this,void 0,void 0,function(){var e,n,o,a,i,r,s,l,u,p,y,b,m,M,S;return c(this,function(c){switch(c.label){case 0:for(v.default.instance.status=d.ENUM_GAME_STATUS.UNRUNING,this.containers=[],this.stage.removeAllChildren(),t?(e=Math.min(v.default.instance.everydayLevel,v.LEVEL_DATA.length),v.default.instance.gameType=v.GameType.EVERYDAY):(e=Math.min(v.default.instance.level,v.LEVEL_DATA.length),v.default.instance.gameType=v.GameType.LEVEL),n=v.LEVEL_DATA[e-1],o=n.prefab,a=n.pairs,i=n.isRandom,r=_.default.instance.getNode(o,this.stage),t&&r.getChildByName("Containers").children[1].getChildByName("lock")&&(r.getChildByName("Containers").children[1].getChildByName("lock").active=!1),s=r.getChildByName("Containers").children,this.containers=s,m=0;m<s.length;m++)(M=s[m]).getComponent(g.default).init(m,i);if(i){if(a>60)return[2];for(l=[],u=1;u<=60;u++)l.push(u);for(l=h.shuffle(l),p=[],y=0;y<a;y++)b=l.pop(),p.push(b,b,b);for(p=h.shuffle(p),this.generateGroupData(p),m=0;m<s.length;m++)M=s[m],(S=M.getComponent(g.default)).initFront(),S.initBack()}return this.getGameStatus().isGameShuffle&&this.onGameShuffle(),f.StaticInstance.uiManager.setMainLevel(),f.StaticInstance.uiManager.setMainTimer(!0),f.StaticInstance.uiManager.setMainProgress(!0),f.StaticInstance.uiManager.setMainPowerCollect(),v.default.instance.status=d.ENUM_GAME_STATUS.RUNING,1==v.default.instance.level&&(this.tipNode=_.default.instance.getNode("Tip",this.stage)),[4,f.StaticInstance.fadeManager.fadeOut()];case 1:return c.sent(),[2]}})})},e.prototype.generateGroupData=function(t){for(var e=[],n=0;n<this.containers.length;n++)e[n]=[];for(var o=0;o<t.length;o++){var a=t[o],i=e[o%this.containers.length];if(i.length){var r=i[i.length-1];1==r.length?r.push(a):2==r.length?r[0]==a&&r[1]==a?i.push([a]):h.random(0,1)?i.push([a]):o==t.length-1?i.push([a]):r.push(a):i.push([a])}else i.push([a])}v.default.instance.bottleData=e},e.prototype.onSkillTime=function(){f.StaticInstance.uiManager.isActive(d.ENUM_UI_TYPE.ICE)||(y.default.instance.playSound(d.ENUM_AUDIO_CLIP.SKILL_TIME),f.StaticInstance.uiManager.toggle(d.ENUM_UI_TYPE.ICE),f.StaticInstance.uiManager.setMainTimer(!1),f.StaticInstance.uiManager.setMainTimerSound(!1))},e.prototype.onSkillShuffle=function(){v.default.instance.isShuffling||(y.default.instance.playSound(d.ENUM_AUDIO_CLIP.SHUFFLE),this.onGameShuffle())},e.prototype.onSkillDelete=function(t){if(void 0===t&&(t=!1),t){if(v.default.instance.isShuffling)return;y.default.instance.playSound(d.ENUM_AUDIO_CLIP.SKILL_DELETE),this.onGameShuffle(1),f.StaticInstance.uiManager.setMainProgress()}else{y.default.instance.playSound(d.ENUM_AUDIO_CLIP.CLEAR);var e=[];e.push.apply(e,s(v.default.instance.frontContainers,v.default.instance.backContainers));for(var n=new Map,o=0;o<e.length;o++)if(r=e[o].getChildByName("Bottle")){var a=(c=r.getComponent(p.default)).index;n.has(a)?n.set(a,n.get(a)+1):n.set(a,1)}var i=-1;try{n.forEach(function(t,e){if(3==t)throw i=e,new Error})}catch(l){}if(i<0)this.onGameShuffle(1);else{for(v.default.instance.lockes.forEach(function(t){var e=t.getChildByName("num").getComponent(cc.Label),n=e.string,o=parseInt(n)-1;e.string=""+o,o<=0&&t.parent.getComponent(g.default).setLockOpen()}),f.StaticInstance.uiManager.isActive(d.ENUM_UI_TYPE.ICE)&&(f.StaticInstance.uiManager.toggle(d.ENUM_UI_TYPE.ICE,!1),f.StaticInstance.uiManager.setMainTimer(!0),f.StaticInstance.uiManager.setMainTimerSound(!0)),o=0;o<e.length;o++){var r,c;(r=e[o].getChildByName("Bottle"))&&(c=r.getComponent(p.default)).index==i&&c.setClear()}this.containers.forEach(function(t){for(var e=t.getChildByName("front").children,n=!0,o=0;o<e.length;o++)if(e[o].getChildByName("Bottle")){n=!1;break}if(n)t.getComponent(g.default).backToFront();else{var a=t.getChildByName("back").children,i=!0;for(o=0;o<a.length;o++)if(a[o].getChildByName("Bottle")){i=!1;break}i&&t.getComponent(g.default).initBack()}})}f.StaticInstance.uiManager.setMainProgress(),this.getGameStatus().isGameShuffle?this.onGameShuffle():this.onGameCheck()}},i([u],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../Utils":"Utils","../game/Bottle":"Bottle","../game/Container":"Container","./AudioManager":"AudioManager","./DataManager":"DataManager","./PoolManager":"PoolManager","./SdkManager":"SdkManager"}],HeaderLayer:[function(t,e,n){"use strict";cc._RF.push(e,"62589BLOMBIRbKLGhMJnsXq","HeaderLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Enum"),c=t("../Utils"),s=t("../manager/AudioManager"),l=t("../manager/DataManager"),u=t("../manager/SdkManager"),d=t("../manager/ToastManager"),f=t("./Baselayer"),h=cc._decorator,p=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.barHeart=null,e.barPower=null,e.timerHeart=null,e}return a(e,t),e.prototype.onLoad=function(){this.barHeart=cc.find("bar/heart",this.node),this.barPower=cc.find("bar/power",this.node),this.timerHeart=cc.find("timer",this.barHeart);try{cc.director.on("PowerChanged",this.rendorPower,this)}catch(t){}},e.prototype.rendorHeart=function(){var t=this;if(this.barHeart){var e=this.barHeart.getChildByName("nums"),n=this.barHeart.getChildByName("btn_add");e&&(e.getComponent(cc.Label).string=""+l.default.instance.hearts),n&&!n.hasEventListener("click")&&n.on("click",function(){t.getRewardByVideo("hearts")})}},e.prototype.rendorPower=function(){var t=this;if(this.barPower){var e=this.barPower.getChildByName("nums"),n=this.barPower.getChildByName("btn_add");e&&(e.getComponent(cc.Label).string=""+l.default.instance.powers),n&&!n.hasEventListener("click")&&n.on("click",function(){t.getRewardByVideo("powers")})}},e.prototype.getRewardByVideo=function(t){var e=this;void 0===t&&(t="hearts"),s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),u.default.instance.showVideoAd(function(n){u.default.instance.getPlatform()||d.default.instance.show(n,{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)}),"hearts"==t?(s.default.instance.playSound(r.ENUM_AUDIO_CLIP.COLLECT),l.default.instance.hearts+=l.default.instance.heartCollectByVideo,l.default.instance.save(),e.rendorHeart()):(s.default.instance.playSound(r.ENUM_AUDIO_CLIP.COLLECT),l.default.instance.powers+=l.default.instance.powerCollectByVideo,l.default.instance.save(),e.rendorPower())},function(t){d.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})})},e.prototype.rendorHeartTimer=function(){var t=this;if(this.timerHeart){this.unscheduleAllCallbacks();var e=!0;if(l.default.instance.hearts>=5&&(e=!1),l.default.instance.lastHeartRefreshTime>0&&(e=!0),e){var n=l.default.instance.heartRefreshTime-l.default.instance.lastHeartRefreshTime;this.timerHeart.getComponent(cc.Label).string=c.formatSeconds(n,"i:s");var o=function(){(n-=1)<=0?(l.default.instance.hearts+=1,t.rendorHeart(),l.default.instance.hearts>=5?(t.unschedule(o),t.timerHeart.getComponent(cc.Label).string="",l.default.instance.lastHeartRefreshTime=0):(n=l.default.instance.heartRefreshTime,l.default.instance.lastHeartRefreshTime=0,t.timerHeart.getComponent(cc.Label).string=c.formatSeconds(n,"i:s"))):(t.timerHeart.getComponent(cc.Label).string=c.formatSeconds(n,"i:s"),l.default.instance.lastHeartRefreshTime=l.default.instance.heartRefreshTime-n),l.default.instance.lastHeartUpdateTime=(new Date).getTime(),l.default.instance.save()};this.schedule(o,1)}}},e.prototype.onDestroy=function(){try{cc.director.off("PowerChanged",this.rendorPower,this)}catch(t){}},i([p],e)}(f.default));n.default=g,cc._RF.pop()},{"../Enum":"Enum","../Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./Baselayer":"Baselayer"}],IceLayer:[function(t,e,n){"use strict";cc._RF.push(e,"9c7699w+UNN3qlpbq5KSDp0","IceLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Baselayer"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){},e.prototype.onDestroy=function(){},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},i([s],e)}(r.default));n.default=l,cc._RF.pop()},{"./Baselayer":"Baselayer"}],Index:[function(t,e,n){"use strict";cc._RF.push(e,"bd1a12oV81Cu7bBxEAPpr3S","Index");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./StaticInstance"),l=t("./Enum"),u=t("./manager/AudioManager"),d=t("./manager/DataManager"),f=t("./manager/ResourceManager"),h=t("./manager/SdkManager"),p=cc._decorator,g=p.ccclass,y=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){var t=this;this.node.getChildByName("UI").opacity=255,cc.view.setResizeCallback(function(){return t.responsive()}),this.responsive(),d.default.instance.loadingRate=0},e.prototype.start=function(){return r(this,void 0,void 0,function(){var t,e,n,o,a;return c(this,function(i){switch(i.label){case 0:for(e in t=[],l.ENUM_RESOURCE_TYPE)t.push(e);n=0,i.label=1;case 1:return n<t.length?(o=t[n],a=l.ENUM_RESOURCE_TYPE[o],[4,f.default.instance.loadRes(a)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return s.StaticInstance.uiManager.init(),d.default.instance.restore(),u.default.instance.playMusic(),h.default.instance.initAudioEndListener(),h.default.instance.passiveShare(),h.default.instance.getRank(),h.default.instance.initBannerAd(),h.default.instance.initInterstitialAd(),h.default.instance.initVideoAd(),h.default.instance.initCustomRowAd(),h.default.instance.initCustomColAd(),h.default.instance.debugPrintStartupInfo&&h.default.instance.debugPrintStartupInfo(),h.default.instance.onShow&&h.default.instance.onShow(),h.default.instance.onHideListen&&h.default.instance.onHideListen(),h.default.instance.sendEvent&&h.default.instance.sendEvent("launch"),this.onHeartIncrease(),s.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.MENU,!0,function(){d.default.instance.loadingRate=1,h.default.instance.sendEvent&&h.default.instance.sendEvent("enter_home")}),[2]}})})},e.prototype.responsive=function(){var t=cc.view.getDesignResolutionSize(),e=cc.view.getFrameSize(),n=function(){cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!0},o=t.width/t.height,a=e.width/e.height;o<1?a<1?a>o?n():(cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0):n():a>1?a<o?n():(cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1):n()},e.prototype.onHeartIncrease=function(){if(d.default.instance.hearts<5){var t=(new Date).getTime(),e=Math.floor((t-d.default.instance.lastHeartUpdateTime)/1e3),n=Math.floor(e/d.default.instance.heartRefreshTime);d.default.instance.hearts+n>=5?(d.default.instance.hearts=5,d.default.instance.lastHeartRefreshTime=0):d.default.instance.hearts+=n,d.default.instance.save()}},i([g],e)}(cc.Component));n.default=y,cc._RF.pop()},{"./Enum":"Enum","./StaticInstance":"StaticInstance","./manager/AudioManager":"AudioManager","./manager/DataManager":"DataManager","./manager/ResourceManager":"ResourceManager","./manager/SdkManager":"SdkManager"}],LoadingLayer:[function(t,e,n){"use strict";cc._RF.push(e,"0d076ynxVpJ6Ys/SGfhiZtJ","LoadingLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Enum"),c=t("../manager/DataManager"),s=t("./Baselayer"),l=t("../StaticInstance"),u=cc._decorator,d=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadfill=null,e}return a(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.update=function(){this.loadfill&&this.node.active&&(this.loadfill.fillRange=c.default.instance.loadingRate,c.default.instance.loadingRate>=1&&l.StaticInstance.uiManager.isActive(r.ENUM_UI_TYPE.MENU)&&this.hide())},i([f(cc.Sprite)],e.prototype,"loadfill",void 0),i([d],e)}(s.default);n.default=h,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../manager/DataManager":"DataManager","./Baselayer":"Baselayer"}],LoseLayer:[function(t,e,n){"use strict";cc._RF.push(e,"b601bhCGWNK+ZoaczgoGYv3","LoseLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enum"),l=t("./../StaticInstance"),u=t("../manager/AudioManager"),d=t("../manager/SdkManager"),f=t("../manager/ToastManager"),h=t("./HeaderLayer"),p=t("../manager/DataManager"),g=cc._decorator,y=g.ccclass,v=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnRestart=null,e.btnReward=null,e.powerCollect=null,e.btnAddTime=null,e.btnBarkMenu=null,e}return a(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.panel=cc.find("style/panel",this.node),this.btnRestart=cc.find("buttons/btn_restart",this.panel),this.btnAddTime=cc.find("buttons/btn_AddTime",this.panel),this.btnBarkMenu=cc.find("buttons/btn_barkMenu",this.panel),this.btnRestart.on("click",this.onRestartClick,this),this.btnAddTime.on("click",this.onAddTime,this),this.btnBarkMenu.on("click",this.onBarkMenu,this),this.powerCollect=cc.find("num",this.panel)},e.prototype.onDestroy=function(){this.btnRestart.off("click",this.onRestartClick,this),this.btnAddTime.off("click",this.onAddTime,this),this.btnBarkMenu.off("click",this.onBarkMenu,this)},e.prototype.onEnable=function(){this.rendorHeart(),this.rendorPower(),this.rendorHeartTimer(),this.rendorPowerCollect(),this.zoomIn(this.panel),d.default.instance.toggleCustomColAd(!0)},e.prototype.onDisable=function(){d.default.instance.toggleCustomColAd(!1)},e.prototype.rendorPowerCollect=function(){this.powerCollect.getComponent(cc.Label).string="x "+p.default.instance.powerCollectCurrent},e.prototype.onBarkMenu=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.LOSE,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MAIN,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU)},e.prototype.onRestartClick=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.LOSE,!1),l.StaticInstance.gameManager.onGameStart(),[2]}})})},e.prototype.onAddTime=function(){var t=this;u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),d.default.instance.showVideoAd(function(){return r(t,void 0,void 0,function(){return c(this,function(){return u.default.instance.playSound(s.ENUM_AUDIO_CLIP.MONEY),l.StaticInstance.uiManager.setMainTimer(!0,p.OVERTTIME_TIMER_SECONDS),l.StaticInstance.uiManager.setMainTimerSound(!0),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.LOSE,!1),p.default.instance.status=s.ENUM_GAME_STATUS.RUNING,[2]})})},function(t){f.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})})},e.prototype.onRewardClick=function(){var t=this;u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),d.default.instance.showVideoAd(function(e){return r(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return d.default.instance.getPlatform()||f.default.instance.show(e,{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)}),u.default.instance.playSound(s.ENUM_AUDIO_CLIP.MONEY),p.default.instance.powers+=p.default.instance.powerCollectCurrent,p.default.instance.save(),[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.LOSE,!1),l.StaticInstance.gameManager.onGameStart(),[2]}})})},function(t){f.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})})},i([y],e)}(h.default));n.default=v,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./HeaderLayer":"HeaderLayer"}],MainLayer:[function(t,e,n){"use strict";cc._RF.push(e,"995d75Ra29EXY7A+cLQ/Mrd","MainLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enum"),l=t("../manager/AudioManager"),u=t("../manager/DataManager"),d=t("../manager/PoolManager"),f=t("../manager/SdkManager"),h=t("../manager/ToastManager"),p=t("../StaticInstance"),g=t("../Utils"),y=t("./Baselayer"),v=cc._decorator,_=v.ccclass,b=(v.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnPause=null,e.levelLabel=null,e.timerLabel=null,e.timerIndex=-1,e.combo=null,e.comboTip=null,e.comboProgress=null,e.comboTime=0,e.comboTimeCurrent=0,e.powerCollect=null,e.powerIcon=null,e}return a(e,t),e.prototype.onLoad=function(){var t=this;this.btnPause=cc.find("btn_pause",this.node),this.btnPause.on("click",this.onPauseClick,this),this.levelLabel=cc.find("btn_pause/level",this.node);var e=cc.find("header/timer/num",this.node);this.timerLabel=e.getComponent(cc.Label),this.node.getChildByName("skills").children.forEach(function(e,n){e.on("click",function(){t.onSkillClick(n)})}),this.combo=cc.find("combo",this.node);var n=this.combo.getChildByName("tip");this.comboTip=n.getComponent(cc.Label);var o=this.combo.getChildByName("progress");this.comboProgress=o.getComponent(cc.ProgressBar),this.powerIcon=cc.find("header/power/icon",this.node),this.powerCollect=cc.find("header/power/num",this.node)},e.prototype.onDestroy=function(){this.btnPause.off("click",this.onPauseClick,this)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.rendorLevel=function(){u.default.instance.gameType==u.GameType.LEVEL?this.levelLabel.getComponent(cc.Label).string="\u7b2c"+u.default.instance.level+"\u5173":this.levelLabel.getComponent(cc.Label).string="\u6bcf\u65e5\u6311\u6218"},e.prototype.rendorPowerCollect=function(){this.powerCollect.getComponent(cc.Label).string=""+u.default.instance.powerCollectCurrent},e.prototype.onPauseClick=function(){l.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),p.StaticInstance.uiManager.setMainTimer(!1),p.StaticInstance.uiManager.setMainTimerSound(!1),p.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.EXIT)},e.prototype.onTimerStart=function(t){var e=this,n=t||u.default.instance.timer;this.onTimerStop(),this.timerLabel.string=g.formatSeconds(""+n,"i:s"),this.timerLabel.schedule(function(){n<=1&&e.timerLabel.unscheduleAllCallbacks(),--n<0&&(n=0),e.timerLabel.string=g.formatSeconds(""+n,"i:s"),e.onTimerSoundStart(n),n<=0&&p.StaticInstance.gameManager.onGameOver(s.ENUM_UI_TYPE.LOSE)},1)},e.prototype.onTimerStop=function(){this.timerLabel.unscheduleAllCallbacks()},e.prototype.onTimerSoundStart=function(t){return r(this,void 0,void 0,function(){var e,n;return c(this,function(o){switch(o.label){case 0:return(e=t||u.default.instance.timer)<=5&&e>0&&this.timerIndex<0?(n=this,[4,l.default.instance.playSound(s.ENUM_AUDIO_CLIP.TIMER,!0)]):[3,2];case 1:n.timerIndex=o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.onTimerSoundStop=function(){l.default.instance.stopSound(this.timerIndex),this.timerIndex=-1},e.prototype.onProgressStart=function(t){var e=this;if(console.log(t,"onProgressStart"),t)this.combo.opacity=0;else if(u.default.instance.combo+=1,!(u.default.instance.combo<3)){this.combo.opacity=255;var n=g.toXY(this.powerIcon,p.StaticInstance.gameManager.stage);u.default.instance.powerStartPosArr.forEach(function(t){var o=d.default.instance.getNode("TreePower",p.StaticInstance.gameManager.stage,cc.v3(t.x,t.y)),a=cc.spawn(cc.moveTo(.5,cc.v2(n.x,n.y)),cc.scaleTo(.5,.1));cc.tween(o).then(a).call(function(){o.removeFromParent(),u.default.instance.powerCollectCurrent+=u.default.instance.combo,e.rendorPowerCollect()}).start()}),u.default.instance.powerStartPosArr=[],this.comboTip.string="\u8fde\u51fbx"+u.default.instance.combo,this.comboTime=u.default.instance.comboTimer/u.default.instance.combo,this.comboTimeCurrent=this.comboTime}},e.prototype.onSkillClick=function(t){u.default.instance.status!=s.ENUM_GAME_STATUS.UNRUNING&&(l.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),p.StaticInstance.uiManager.setMainTimer(!1),p.StaticInstance.uiManager.setMainTimerSound(!1),f.default.instance.showVideoAd(function(e){switch(p.StaticInstance.uiManager.isActive(s.ENUM_UI_TYPE.ICE)||(p.StaticInstance.uiManager.setMainTimer(!0),p.StaticInstance.uiManager.setMainTimerSound(!0)),f.default.instance.getPlatform()||h.default.instance.show(e,{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)}),t){case 0:p.StaticInstance.gameManager.onSkillDelete(!1);break;case 1:p.StaticInstance.gameManager.onSkillDelete(!0);break;case 2:p.StaticInstance.gameManager.onSkillTime();break;case 3:p.StaticInstance.gameManager.onSkillShuffle()}},function(t){p.StaticInstance.uiManager.isActive(s.ENUM_UI_TYPE.ICE)||(p.StaticInstance.uiManager.setMainTimer(!0),p.StaticInstance.uiManager.setMainTimerSound(!0)),h.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})}))},e.prototype.onDouyinRevisitClick=function(){l.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),f.default.instance.getPlatform()&&"undefined"!=typeof window&&void 0!==window.tt?f.default.instance.showRevisitGuide():h.default.instance.show("\u4ec5\u5728\u6296\u97f3\u5c0f\u6e38\u620f\u5185\u53ef\u7528",{gravity:"BOTTOM",bg_color:cc.color(150,150,150,255)})},e.prototype.update=function(t){this.comboTimeCurrent>0?(this.comboTimeCurrent-=2*t,this.comboProgress.progress=this.comboTimeCurrent/this.comboTime):255==this.combo.opacity&&(this.comboTime=0,this.comboTimeCurrent=0,this.combo.opacity=0,u.default.instance.combo=0)},i([_],e)}(y.default));n.default=b,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/PoolManager":"PoolManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./Baselayer":"Baselayer"}],MenuLayer:[function(t,e,n){"use strict";cc._RF.push(e,"94d9eW2z5xN9KXMq6SiqvtZ","MenuLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enum"),l=t("./../StaticInstance"),u=t("../manager/AudioManager"),d=t("../manager/SdkManager"),f=t("../manager/ToastManager"),h=t("../manager/DataManager"),p=t("./HeaderLayer"),g=t("../manager/EffectManager"),y=t("../manager/ResourceManager"),v=t("../manager/PoolManager"),_=t("../Utils"),b=cc._decorator,m=b.ccclass,M=(b.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStart=null,e.btnRank=null,e.btnSetting=null,e.btnGame=null,e.btnShare=null,e.btnEverydayStart=null,e.iconHand=null,e.btnTree=null,e.iconPower=null,e.iconPowerPos=null,e.isTreeClick=!1,e.treeBody=null,e.currentLevelLabel=null,e.onSidebarReturn=function(){try{l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU,!0);try{l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MAIN,!1)}catch(t){}}catch(t){}},e}return a(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.btnStart=cc.find("btn_start",this.node),this.btnRank=cc.find("btn_rank",this.node),this.btnSetting=cc.find("btn_setting",this.node),this.btnGame=cc.find("btn_game",this.node),this.btnShare=cc.find("btn_share",this.node),this.btnStart.on("click",this.onStartClick,this),this.btnRank.on("click",this.onRankClick,this),this.btnSetting.on("click",this.onSettingClick,this),this.btnGame.on("click",this.onGameClick,this),this.btnShare.on("click",this.onShareClick,this),this.iconHand=cc.find("tree/icon_hand",this.node),this.btnTree=cc.find("tree/body",this.node),this.btnTree.on("click",this.onTreeClick,this),this.iconPower=cc.find("bar/power/icon",this.node),this.iconPowerPos=_.toXY(this.iconPower,this.node),this.treeBody=cc.find("tree/body",this.node),this.treeBody=cc.find("tree/body",this.node),this.btnEverydayStart=cc.find("btn_everydayStart",this.node),this.btnEverydayStart.on("click",this.onEverydayStart,this);var e=cc.find("level/label",this.node);this.currentLevelLabel=e.getComponent(cc.Label);try{var n=cc.find("showSidebarTaskGuideLayer",this.node)||cc.find("SidebarGuideLayer",this.node)||cc.find("sidebarGuide",this.node)||cc.find("guide/sidebar",this.node);n&&(n.active=!1,d.default.instance.registerSidebarGuideNode(n),cc&&cc.log&&cc.log("[Menu] Registered embedded sidebar guide node"))}catch(a){}var o=cc.find("btn_revisit",this.node);o?(o.on("click",this.onDouyinRevisitClick,this),o.on(cc.Node.EventType.TOUCH_END,this.onDouyinRevisitClick,this),cc&&cc.debug&&cc.log&&cc.log("[Menu] bind btn_revisit ok")):cc&&cc.debug&&cc.warn&&cc.warn("[Menu] btn_revisit not found in MenuLayer");try{d.default.instance.ensureSidebarRevisitHook&&d.default.instance.ensureSidebarRevisitHook()}catch(a){}try{cc.director.on("SidebarGuide:Return",this.onSidebarReturn,this)}catch(a){}},e.prototype.onDestroy=function(){this.btnStart.off("click",this.onStartClick,this),this.btnRank.off("click",this.onRankClick,this),this.btnSetting.off("click",this.onSettingClick,this),this.btnGame.off("click",this.onGameClick,this),this.btnShare.off("click",this.onShareClick,this),this.btnTree.off("click",this.onTreeClick,this),this.btnEverydayStart.off("click",this.onEverydayStart,this);var t=cc.find("btn_revisit",this.node);t&&(t.off("click",this.onDouyinRevisitClick,this),t.off(cc.Node.EventType.TOUCH_END,this.onDouyinRevisitClick,this));try{cc.director.off("SidebarGuide:Return",this.onSidebarReturn,this)}catch(e){}},e.prototype.onEnable=function(){this.rendorHeart(),this.rendorPower(),this.rendorHeartTimer(),this.rendorTree(),this.rendorHand(),d.default.instance.toggleCustomColAd(!0),this.currentLevelLabel.string="\u7b2c"+h.default.instance.level+"\u5173"},e.prototype.onDisable=function(){d.default.instance.toggleCustomColAd(!1)},e.prototype.rendorTree=function(){this.btnTree.getComponent(cc.Sprite).spriteFrame=y.default.instance.getSprite("shu"+(h.default.instance.treeIndex+1))},e.prototype.rendorHand=function(){this.iconHand.active=h.default.instance.treePower<h.TREE_DATA[h.TREE_DATA.length-1]&&h.default.instance.powers>0},e.prototype.onStartClick=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),h.default.instance.hearts<=0?(f.default.instance.show("\u7ea2\u5fc3\u5df2\u7528\u5b8c, \u8bf7\u5148\u8865\u5145\u7ea2\u5fc3",{gravity:"TOP",bg_color:cc.color(226,69,109,255)}),[2]):[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),h.default.instance.hearts-=1,h.default.instance.save(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MAIN),l.StaticInstance.gameManager.onGameStart(),[2]}})})},e.prototype.onEverydayStart=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),h.default.instance.hearts<=0?(f.default.instance.show("\u7ea2\u5fc3\u5df2\u7528\u5b8c, \u8bf7\u5148\u8865\u5145\u7ea2\u5fc3",{gravity:"TOP",bg_color:cc.color(226,69,109,255)}),[2]):[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),h.default.instance.hearts-=1,h.default.instance.save(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MAIN),l.StaticInstance.gameManager.onGameStart(!0),[2]}})})},e.prototype.onRankClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.RANK)},e.prototype.onSettingClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.SETTING)},e.prototype.onGameClick=function(){var t=h.default.instance.game.url;void 0!==window.wx&&(u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),t=h.default.instance.game.appid),t&&d.default.instance.turnToApp(t)},e.prototype.onShareClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),d.default.instance.getPlatform()?d.default.instance.activeShare():f.default.instance.show("\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},e.prototype.onTreeClick=function(){var t=this;if(!this.isTreeClick)if(u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),h.default.instance.powers<=0)f.default.instance.show("\u80a5\u6599\u5df2\u7528\u5b8c, \u8bf7\u5148\u8865\u5145\u80a5\u6599",{gravity:"TOP",bg_color:cc.color(226,69,109,255)});else{this.isTreeClick=!0,h.default.instance.treePower+=h.default.instance.powers,h.default.instance.powers=0,h.default.instance.save();var e=v.default.instance.getNode("TreePower",this.node,cc.v3(this.iconPowerPos.x,this.iconPowerPos.y)),n=cc.spawn(cc.moveTo(.5,cc.v2(0,0)),cc.scaleTo(.5,.1));cc.tween(e).then(n).call(function(){e.removeFromParent();var n=h.TREE_DATA.findIndex(function(t){return h.default.instance.treePower<t});console.log(n),n>=0?(h.default.instance.treeIndex=n,h.default.instance.save(),u.default.instance.playSound(s.ENUM_AUDIO_CLIP.LEVEL_UP),g.default.instance.play("Cloud",t.iconHand.parent),t.btnTree.getComponent(cc.Sprite).spriteFrame=y.default.instance.getSprite("shu"+(n+1))):(u.default.instance.playSound(s.ENUM_AUDIO_CLIP.COLLECT_POWER),g.default.instance.play("Collect",t.btnTree)),t.isTreeClick=!1}).start(),this.rendorHand(),this.rendorPower()}},e.prototype.onDouyinRevisitClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),d.default.instance.getPlatform()&&"undefined"!=typeof window&&void 0!==window.tt||f.default.instance.show("\u5f53\u524d\u73af\u5883\u65e0\u6cd5\u8c03\u8d77\u5b98\u65b9\u5f15\u5bfc\uff0c\u5df2\u4e3a\u4f60\u5c55\u793a\u4efb\u52a1\u6b65\u9aa4",{gravity:"BOTTOM",bg_color:cc.color(150,150,150,255)}),d.default.instance.showSidebarTaskGuide()},i([m],e)}(p.default));n.default=M,cc._RF.pop()},{"../Enum":"Enum","../Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/EffectManager":"EffectManager","../manager/PoolManager":"PoolManager","../manager/ResourceManager":"ResourceManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./HeaderLayer":"HeaderLayer"}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"a46f4A6CpBE04BZI8Amk1vE","PoolManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this._dictPool={},this._dictPrefab={}}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.copyNode=function(t,e){var n=t.name;this._dictPrefab[n]=t;var o=null;if(this._dictPool.hasOwnProperty(n))o=(a=this._dictPool[n]).size()>0?a.get():cc.instantiate(t);else{var a=new cc.NodePool;this._dictPool[n]=a,o=cc.instantiate(t)}return e&&(o.parent=e,o.active=!0),o},t.prototype.getNode=function(t,e,n){var o,a;if("string"==typeof t){if(a=t,!(o=this._dictPrefab[t]))return console.log("Pool invalid prefab name = ",a),null}else o=t,a=t.data.name;var i=null;if(this._dictPool.hasOwnProperty(a))i=(r=this._dictPool[a]).size()>0?r.get():cc.instantiate(o);else{var r=new cc.NodePool;this._dictPool[a]=r,i=cc.instantiate(o)}return e&&(i.parent=e,i.active=!0,n&&(i.position=n)),i},t.prototype.putNode=function(t,e){if(void 0===e&&(e=!1),t){var n=t.name,o=null;this._dictPool.hasOwnProperty(n)?o=this._dictPool[n]:(o=new cc.NodePool,this._dictPool[n]=o),o.put(t)}},t.prototype.clearPool=function(t){this._dictPool.hasOwnProperty(t)&&this._dictPool[t].clear()},t.prototype.setPrefab=function(t,e){this._dictPrefab[t]=e},t.prototype.getPrefab=function(t){return this._dictPrefab[t]},t._instance=null,t}();n.default=o,cc._RF.pop()},{}],RankLayer:[function(t,e,n){"use strict";cc._RF.push(e,"9152a3E4wFB0JCSs+5/fMuT","RankLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Enum"),c=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../manager/SdkManager"),d=t("../manager/ToastManager"),f=cc._decorator,h=f.ccclass,p=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnClose=null,e.btnShare=null,e}return a(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnClose=cc.find("btn_close",this.panel),this.btnShare=cc.find("btn_share",this.panel),this.btnClose.on("click",this.onCloseClick,this),this.btnShare.on("click",this.onShareClick,this)},e.prototype.onDestroy=function(){this.btnClose.off("click",this.onCloseClick,this),this.btnShare.off("click",this.onShareClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),u.default.instance.getRank(),u.default.instance.showInterstitialAd(),u.default.instance.toggleBannerAd(!0)},e.prototype.onDisable=function(){u.default.instance.toggleBannerAd(!1)},e.prototype.onItemClick=function(t){var e="";void 0===window.wx?e=t.url:(s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),e=t.appid),e&&u.default.instance.turnToApp(e)},e.prototype.onCloseClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(r.ENUM_UI_TYPE.RANK,!1),c.StaticInstance.uiManager.toggle(r.ENUM_UI_TYPE.MENU)},e.prototype.onShareClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),u.default.instance.getPlatform()?u.default.instance.activeShare():d.default.instance.show("\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},i([h],e)}(l.default));n.default=p,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],ResourceManager:[function(t,e,n){"use strict";cc._RF.push(e,"ab2a6CEvxhMQ77c3CMn4zMe","ResourceManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./DataManager"),r=t("./PoolManager"),c=function(){function t(){this.clipMap={},this.spriteMap={},this.jsonMap={}}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.loadRes=function(t,e){return void 0===e&&(e=0),o(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n,o){var a=i.default.instance.loadingRate;cc.resources.loadDir(t.path,t.content,function(e,n){if(t.ratio>0){var o=Math.floor(100*(a+t.ratio*e/n))/100;i.default.instance.loadingRate=Math.max(o,i.default.instance.loadingRate)}},function(a,i){var c;if(a&&o&&o(),"audio"==t.type)for(var s=0;s<i.length;s++)c=i[s],e.clipMap[c.name]||(e.clipMap[c.name]=c);if("prefab"==t.type)for(s=0;s<i.length;s++)c=i[s],r.default.instance.setPrefab(c.data.name,c);if("sprite"==t.type)for(s=0;s<i.length;s++)c=i[s],e.spriteMap[c.name]||(e.spriteMap[c.name]=c);if("json"==t.type)for(s=0;s<i.length;s++)c=i[s],e.jsonMap[c.name]||(e.jsonMap[c.name]=c.json);n&&n()})})]})})},t.prototype.getClip=function(t){return this.clipMap[t]},t.prototype.getSprite=function(t){return this.spriteMap[t]},t.prototype.getJson=function(t){return this.jsonMap[t]},t._instance=null,t}();n.default=c,cc._RF.pop()},{"./DataManager":"DataManager","./PoolManager":"PoolManager"}],SdkManager:[function(t,e,n){"use strict";cc._RF.push(e,"63001T9hINHxKQXF9QDpdaI","SdkManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AudioManager"),a=t("./ToastManager"),i=t("./DataManager"),r=function(){function t(){this.shareTitle="\u597d\u73a9\u4e0a\u5934\u7684\u6e38\u620f\uff0c\u5feb\u6765\u6311\u6218\u5427\uff1f",this.shareImg="",this.videoId="73ei91dhi4353rqqbt",this.videoAd=null,this.interstitialId="",this.interstitialAd=null,this.bannerId="2wx71s2oa4s286djpn",this.bannerAd=null,this.customRowId="",this.customRowAd=null,this.customColId="",this.customColAd=null,this.videoRecorder=null,this.videoRecordState=0,this.videoStartTime=null,this.videoRecordTime=120,this.videoPath=null,this.videoIsExist=0,this.videoTopics=[],this.AdsEnabled=!0,this._sidebarRewardedOnce=!1,this._sidebarGuideNode=null}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.getAdErrorMessage=function(t,e,n){void 0===n&&(n="\u5931\u8d25");try{var o=e&&(e.errCode||e.code),a=function(){switch(o){case 1e3:return"\u7cfb\u7edf\u9519\u8bef";case 1001:return"\u53c2\u6570\u9519\u8bef";case 1002:return"\u5e7f\u544a\u5e93\u5b58\u4e0d\u8db3";case 1003:return"\u5e7f\u544a\u52a0\u8f7d\u8d85\u65f6";case 1004:return"\u8bf7\u6c42\u9891\u7387\u8fc7\u9ad8";case 1005:return"\u5e7f\u544a\u4f4d\u5c01\u7981";case 2001:return"\u7f51\u7edc\u5f02\u5e38";case 2004:return"\u7f51\u7edc\u8d85\u65f6";default:return""}}();return a?""+t+n+"\uff08"+a+"\uff09":""+t+n}catch(i){return""+t+n}},t.prototype.showFailToast=function(t){try{a.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})}catch(e){}},t.prototype.findNodeDeep=function(t,e){if(!t)return null;if(t.name===e)return t;for(var n=t.children.slice();n.length;){var o=n.shift();if(o.name===e)return o;o.children&&o.children.length&&n.push.apply(n,o.children)}return null},t.prototype.showSidebarTaskGuide=function(){var t=this;try{var e=cc.director.getScene().getComponentInChildren(cc.Canvas).node;if(this._sidebarGuideNode&&cc.isValid(this._sidebarGuideNode)){var n=this._sidebarGuideNode;n.active=!0;try{n.zIndex=9999,n.setSiblingIndex(e.childrenCount-1)}catch(d){}cc&&cc.log&&cc.log("[Sdk] showSidebarTaskGuide -> embedded node shown");var o=this.findNodeDeep(n,"New Button"),r=this.findNodeDeep(n,"btn_next"),c=this.findNodeDeep(n,"btn_close");if(r&&(r.active=!1),o){var s=o.getComponent(cc.Button);s&&(s.interactable=!0);try{o.active=!0}catch(d){}o.off("click"),o.on("click",function(){try{if("undefined"==typeof window||void 0===window.tt)try{a.default.instance.show("\u5f53\u524d\u73af\u5883\u65e0\u6cd5\u8c03\u8d77\u5b98\u65b9\u6307\u5f15",{gravity:"BOTTOM",bg_color:cc.color(150,150,150,255)})}catch(d){}t.showRevisitGuide&&t.showRevisitGuide()}catch(e){}}),o.off(cc.Node.EventType.TOUCH_END),o.on(cc.Node.EventType.TOUCH_END,function(){try{if("undefined"==typeof window||void 0===window.tt)try{a.default.instance.show("\u5f53\u524d\u73af\u5883\u65e0\u6cd5\u8c03\u8d77\u5b98\u65b9\u6307\u5f15",{gravity:"BOTTOM",bg_color:cc.color(150,150,150,255)})}catch(d){}t.showRevisitGuide&&t.showRevisitGuide()}catch(e){}})}else cc&&cc.warn&&cc.warn("[Sdk] showSidebarTaskGuide: \u65b0\u624b\u5f15\u5bfc\u6309\u94ae New Button \u672a\u627e\u5230\uff0c\u8bf7\u68c0\u67e5\u9884\u5236\u4f53\u8282\u70b9\u540d");if(r){var l=function(){if(t._sidebarRewardedOnce){try{a.default.instance.show("\u672c\u6b21\u4f1a\u8bdd\u5df2\u9886\u53d6\u8fc7\u8be5\u5956\u52b1",{gravity:"BOTTOM",bg_color:cc.color(150,150,150,255)})}catch(d){}try{cc.director.emit("SidebarGuide:Return")}catch(d){}try{t.isUnderMenuLayer(n)?n.active=!1:(n.destroy(),t._sidebarGuideNode=null)}catch(d){}}else{try{i.default.instance.powers+=100,i.default.instance.save(),a.default.instance.show("\u9886\u53d6\u6210\u529f\uff0c\u80a5\u6599 +100",{gravity:"BOTTOM",bg_color:cc.color(51,51,51,230)}),t._sidebarRewardedOnce=!0}catch(d){}try{cc.director.emit("SidebarGuide:Return")}catch(d){}try{t.isUnderMenuLayer(n)?n.active=!1:(n.destroy(),t._sidebarGuideNode=null)}catch(d){}}};r.off("click"),r.on("click",l),r.off(cc.Node.EventType.TOUCH_END),r.on(cc.Node.EventType.TOUCH_END,l)}if(c){var u=function(){try{t.isUnderMenuLayer(n)?n.active=!1:(n.destroy(),t._sidebarGuideNode=null)}catch(d){}};c.off("click"),c.on("click",u),c.off(cc.Node.EventType.TOUCH_END),c.on(cc.Node.EventType.TOUCH_END,u)}return}this.loadPrefabCompat("prefab/ui/showSidebarTaskGuideLayer",function(n,o){if(!n&&o){var r=cc.instantiate(o);e.addChild(r),r.zIndex=9999,r.setSiblingIndex(e.childrenCount-1),r.position=cc.v3(0,0,0),r.active=!0,t._sidebarGuideNode=r,cc&&cc.log&&cc.log("[Sdk] showSidebarTaskGuide -> prefab shown");var c=t.findNodeDeep(r,"New Button"),s=t.findNodeDeep(r,"btn_next"),l=t.findNodeDeep(r,"btn_close");if(s&&(s.active=!1),c){var u=c.getComponent(cc.Button);u&&(u.interactable=!0);try{c.active=!0}catch(d){}c.off("click"),c.on("click",function(){try{if("undefined"==typeof window||void 0===window.tt)try{a.default.instance.show("\u5f53\u524d\u73af\u5883\u65e0\u6cd5\u8c03\u8d77\u5b98\u65b9\u6307\u5f15",{gravity:"BOTTOM",bg_color:cc.color(150,150,150,255)})}catch(d){}t.showRevisitGuide&&t.showRevisitGuide()}catch(e){}}),c.off(cc.Node.EventType.TOUCH_END),c.on(cc.Node.EventType.TOUCH_END,function(){try{if("undefined"==typeof window||void 0===window.tt)try{a.default.instance.show("\u5f53\u524d\u73af\u5883\u65e0\u6cd5\u8c03\u8d77\u5b98\u65b9\u6307\u5f15",{gravity:"BOTTOM",bg_color:cc.color(150,150,150,255)})}catch(d){}t.showRevisitGuide&&t.showRevisitGuide()}catch(e){}})}else cc&&cc.warn&&cc.warn("[Sdk] showSidebarTaskGuide: \u65b0\u624b\u5f15\u5bfc\u6309\u94ae New Button \u672a\u627e\u5230\uff0c\u8bf7\u68c0\u67e5\u9884\u5236\u4f53\u8282\u70b9\u540d");if(s){var f=function(){if(t._sidebarRewardedOnce){try{a.default.instance.show("\u672c\u6b21\u4f1a\u8bdd\u5df2\u9886\u53d6\u8fc7\u8be5\u5956\u52b1",{gravity:"BOTTOM",bg_color:cc.color(150,150,150,255)})}catch(d){}try{cc.director.emit("SidebarGuide:Return")}catch(d){}try{r.destroy(),t._sidebarGuideNode=null}catch(d){}}else{try{i.default.instance.powers+=100,i.default.instance.save(),a.default.instance.show("\u9886\u53d6\u6210\u529f\uff0c\u80a5\u6599 +100",{gravity:"BOTTOM",bg_color:cc.color(51,51,51,230)}),t._sidebarRewardedOnce=!0}catch(d){}try{cc.director.emit("SidebarGuide:Return")}catch(d){}try{r.destroy(),t._sidebarGuideNode=null}catch(d){}}};s.off("click"),s.on("click",f),s.off(cc.Node.EventType.TOUCH_END),s.on(cc.Node.EventType.TOUCH_END,f)}if(l){var h=function(){try{t.isUnderMenuLayer(r)?r.active=!1:(r.destroy(),t._sidebarGuideNode=null)}catch(d){}};l.off("click"),l.on("click",h),l.off(cc.Node.EventType.TOUCH_END),l.on(cc.Node.EventType.TOUCH_END,h)}}else{cc&&cc.warn&&cc.warn("[Sdk] load showSidebarTaskGuideLayer fail:",n);var p=["\u4fa7\u8fb9\u680f\u590d\u8bbf\u4efb\u52a1\u8bf4\u660e\uff1a","1\uff09\u70b9\u51fb\u53f3\u4e0a\u89d2\u201c...\u201d\u6253\u5f00\u83dc\u5355\uff1b","2\uff09\u5c06\u5c0f\u6e38\u620f\u6dfb\u52a0\u5230\u4fa7\u8fb9\u680f\uff1b","3\uff09\u4ece\u4fa7\u8fb9\u680f\u518d\u6b21\u6253\u5f00\u672c\u6e38\u620f\uff1b","4\uff09\u56de\u5230\u6e38\u620f\u540e\u81ea\u52a8\u53d1\u653e\u5956\u52b1\uff08\u80fd\u91cf +"+(i.default&&i.default.instance?i.default.instance.powerCollectByVideo:0)+"\uff09\u3002"].join("\n");try{a.default.instance.show(p,{gravity:"BOTTOM",duration:4,bg_color:cc.color(51,51,51,230)})}catch(d){}}})}catch(f){cc&&cc.warn&&cc.warn("[Sdk] showSidebarTaskGuide exception:",f)}},t.prototype.loadPrefabCompat=function(t,e){try{if(cc.resources&&cc.resources.load){try{var n=cc.resources.get(t,cc.Prefab);if(n)return void e(null,n)}catch(o){}return void cc.resources.load(t,cc.Prefab,function(t,n){return e(t,n)})}}catch(o){}try{cc.loader.loadRes(t,cc.Prefab,function(t,n){return e(t,n)})}catch(a){e(a)}},t.prototype.revealSidebarRewardButton=function(){try{var t=this._sidebarGuideNode;if(!t||!cc.isValid(t))return;var e=this.findNodeDeep(t,"btn_next"),n=this.findNodeDeep(t,"New Button");if(n)try{var o=n.getComponent(cc.Button);o&&(o.interactable=!1),n.active=!1}catch(i){}if(e){e.active=!0;var a=e.getComponent(cc.Button);a&&(a.interactable=!0)}}catch(i){}},t.prototype.ensureSidebarRevisitHook=function(){var t=this;try{if(!this.initSidebarRevisit)return;this.initSidebarRevisit(function(){try{t.showSidebarTaskGuide(),setTimeout(function(){return t.revealSidebarRewardButton()},0)}catch(e){}},function(){})}catch(e){}},t.prototype.registerSidebarGuideNode=function(t){try{this._sidebarGuideNode=t,this._sidebarGuideNode&&(this._sidebarGuideNode.active=!1)}catch(e){}},t.prototype.isUnderMenuLayer=function(t){try{for(var e=t;e;){try{if(e.getComponent&&e.getComponent("MenuLayer"))return!0}catch(n){}e=e.parent}}catch(n){}return!1},t.prototype.getPlatform=function(){var t=null;return cc.sys.platform==cc.sys.WECHAT_GAME?t=window.wx:cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(t=window.tt),t},t.prototype.debugPrintStartupInfo=function(){try{var t="undefined"!=typeof window&&void 0!==window.tt,e="undefined"!=typeof window&&void 0!==window.wx,n=(this.getPlatform(),t?{shareAppMessage:!!window.tt.shareAppMessage,addFavoriteApp:!!window.tt.addFavoriteApp,saveAppToDesktop:!!window.tt.saveAppToDesktop,getMenuButtonBoundingClientRect:!!window.tt.getMenuButtonBoundingClientRect,showFavoriteGuide:!!window.tt.showFavoriteGuide,reportAnalytics:!!window.tt.reportAnalytics,onShow:!!window.tt.onShow,onHide:!!window.tt.onHide,createBannerAd:!!window.tt.createBannerAd,createRewardedVideoAd:!!window.tt.createRewardedVideoAd,createInterstitialAd:!!window.tt.createInterstitialAd,createCustomAd:!!window.tt.createCustomAd}:null);console.log("[Startup] Platform:",{cocosPlatform:cc.sys.platform,isTT:t,isWX:e,AdsEnabled:this.AdsEnabled}),t&&console.log("[Startup] tt APIs:",n),console.log("[Startup] Ad Instances:",{bannerAd:!!this.bannerAd,interstitialAd:!!this.interstitialAd,videoAd:!!this.videoAd,customRowAd:!!this.customRowAd,customColAd:!!this.customColAd})}catch(o){}},t.prototype.activeShare=function(t){void 0===t&&(t={title:"",imageUrl:"",query:""});var e=this.getPlatform();e?(t.title=t.title||this.shareTitle,t.imageUrl=t.imageUrl||this.shareImg,e.shareAppMessage(t)):console.log("\u3010\u4e3b\u52a8\u5206\u4eab\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.passiveShare=function(t){void 0===t&&(t={title:"",imageUrl:"",query:""});var e=this.getPlatform();e?(e.showShareMenu({success:function(){},fail:function(){}}),t.title=t.title||this.shareTitle,t.imageUrl=t.imageUrl||this.shareImg,e.onShareAppMessage(function(){return t})):console.log("\u3010\u88ab\u52a8\u5206\u4eab\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.getShareQuery=function(t){var e=this.getPlatform();if(e){var n=e.getLaunchOptionsSync().query,o=null;return n&&n[t]&&(o=n[t]),o}console.log("\u3010\u5206\u4eab\u53c2\u6570\u83b7\u53d6\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.turnToApp=function(t){if(""!=t){var e=this.getPlatform();e?e.navigateToMiniProgram({appId:t}):this.turnToBrowser(t)}},t.prototype.turnToBrowser=function(t){window.open(t)},t.prototype.initAudioEndListener=function(){void 0!==window.wx?window.wx.onAudioInterruptionEnd(function(){console.log("\u97f3\u9891\u4e2d\u65ad\uff0c\u6062\u590d\u64ad\u653e"),o.default.instance.playMusic()}):console.log("\u3010\u97f3\u9891\u4e2d\u65ad\u76d1\u542c\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!")},t.prototype.initBannerAd=function(){var t=this;if(this.AdsEnabled){var e=this.getPlatform();if(e)if(""!=this.bannerId){var n=e.getSystemInfoSync();null==this.bannerAd&&(this.bannerAd=e.createBannerAd({adUnitId:this.bannerId,adIntervals:30,style:{height:n.windowHeight-80,left:0,top:500,width:n.windowWidth}}),this.bannerAd.onResize(function(){t.bannerAd.style.top=n.windowHeight-t.bannerAd.style.realHeight,t.bannerAd.style.left=n.windowWidth/2-t.bannerAd.style.realWidth/2}),this.bannerAd.onError(function(e){console.error("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5e45\u3011\u521d\u59cb\u5316\u6709\u8bef",e),t.showFailToast(t.getAdErrorMessage("\u6a2a\u5e45\u5e7f\u544a",e,"\u521d\u59cb\u5316\u5931\u8d25"))}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6a2a\u5e45\u5e7f\u544aID");else console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5e45\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")}else console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5e45\u521d\u59cb\u5316\u3011Ads disabled")},t.prototype.toggleBannerAd=function(t){var e=this;this.getPlatform()?this.bannerAd&&(t?this.bannerAd.show().catch(function(t){e.showFailToast(e.getAdErrorMessage("\u6a2a\u5e45\u5e7f\u544a",t,"\u5c55\u793a\u5931\u8d25"))}):this.bannerAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5e45:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initInterstitialAd=function(){var t=this;if(this.AdsEnabled){var e=this.getPlatform();e?""!=this.interstitialId?null==this.interstitialAd&&(this.interstitialAd=e.createInterstitialAd({adUnitId:this.interstitialId}),this.interstitialAd.onError(function(e){console.error("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u521d\u59cb\u5316\u6709\u8bef",e),t.showFailToast(t.getAdErrorMessage("\u63d2\u5c4f\u5e7f\u544a",e,"\u521d\u59cb\u5316\u5931\u8d25"))})):console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u63d2\u5c4f\u5e7f\u544aID"):console.log("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")}else console.log("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u521d\u59cb\u5316\u3011Ads disabled")},t.prototype.showInterstitialAd=function(){var t=this;this.getPlatform()?this.interstitialAd&&this.interstitialAd.show().catch(function(e){console.error("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u52a0\u8f7d\u5931\u8d25",e),t.showFailToast(t.getAdErrorMessage("\u63d2\u5c4f\u5e7f\u544a",e,"\u5c55\u793a\u5931\u8d25"))}):console.log("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initVideoAd=function(){if(this.AdsEnabled){var t=this.getPlatform();if(t)if(""!=this.videoId){if(null==this.videoAd)try{this.videoAd=t.createRewardedVideoAd({adUnitId:this.videoId}),this.videoAd.onError(function(t){console.error("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u3011\u521d\u59cb\u5316/\u52a0\u8f7d\u9519\u8bef",t)})}catch(e){console.error("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u3011\u521b\u5efa\u5b9e\u4f8b\u629b\u5f02\u5e38",e),this.videoAd=null}}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544aID");else console.log("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")}else console.log("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u521d\u59cb\u5316\u3011Ads disabled")},t.prototype.showVideoAd=function(t,e){var n=this;try{a.default.instance.show("\u6b63\u5728\u8bf7\u6c42\u89c6\u9891\u2026",{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)})}catch(r){}if(!this.getPlatform())return t&&t("\u6a21\u62df\u6210\u529f\uff0c\u6fc0\u52b1\u5956\u52b1\u5df2\u53d1\u653e");if(this.videoAd||this.initVideoAd(),this.videoAd){try{this.videoAd.offClose()}catch(c){}var o=!1,i=function(){o=!0};this.videoAd.onClose(function(o){i();try{n.videoAd.offClose()}catch(c){}if(o&&!0===o.isEnded)return t&&t("\u6fc0\u52b1\u5956\u52b1\u5df2\u53d1\u653e");var s="\u672a\u89c2\u770b\u5b8c\u6574\u89c6\u9891\uff0c\u65e0\u6cd5\u9886\u53d6\u5956\u52b1";if(e)return e(s);try{a.default.instance.show(s,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})}catch(r){}}),this.videoAd.load().then(function(){return n.videoAd.show()}).catch(function(t){if(i(),console.error("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u3011load/show \u5931\u8d25",t),e)return e(n.getAdErrorMessage("\u6fc0\u52b1\u89c6\u9891",t,"\u5c55\u793a\u5931\u8d25"));n.showFailToast(n.getAdErrorMessage("\u6fc0\u52b1\u89c6\u9891",t,"\u5c55\u793a\u5931\u8d25"))}),setTimeout(function(){if(!o){if(console.warn("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u3011\u8d85\u65f6\u515c\u5e95\u63d0\u793a"),e)return e("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u8d85\u65f6");try{a.default.instance.show("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u8d85\u65f6",{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})}catch(r){}}},2e3)}else{if(e)return e("\u8be5\u529f\u80fd\u5c1a\u672a\u5f00\u653e");this.showFailToast("\u8be5\u529f\u80fd\u5c1a\u672a\u5f00\u653e")}},t.prototype.initCustomRowAd=function(){var t=this;if(this.AdsEnabled){var e=this.getPlatform();if(e)if(""!=this.customRowId){var n=e.getSystemInfoSync();null==this.customRowAd&&(this.customRowAd=e.createCustomAd({adUnitId:this.customRowId,adIntervals:30,style:{width:320,left:(n.screenWidth-320)/2,top:n.screenHeight-100,fixed:0}}),this.customRowAd.onError(function(e){console.error("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5411\u683c\u5b50\u3011\u521d\u59cb\u5316\u6709\u8bef",e),t.showFailToast(t.getAdErrorMessage("\u6a2a\u5411\u683c\u5b50\u5e7f\u544a",e,"\u521d\u59cb\u5316\u5931\u8d25"))}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6a2a\u5411\u683c\u5b50\u5e7f\u544aID");else console.log("\u3010\u6a2a\u5411\u683c\u5b50\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")}else console.log("\u3010\u6a2a\u5411\u683c\u5b50\u521d\u59cb\u5316\u3011Ads disabled")},t.prototype.toggleCustomRowAd=function(t){void 0===t&&(t=!0),this.getPlatform()?this.customRowAd&&(t?this.customRowAd.show():this.customRowAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5411\u683c\u5b50:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initCustomColAd=function(){var t=this;if(this.AdsEnabled){var e=this.getPlatform();if(e)if(""!=this.customColId){var n=e.getSystemInfoSync();null==this.customColAd&&(this.customColAd=e.createCustomAd({adUnitId:this.customColId,adIntervals:30,style:{width:80,left:n.screenWidth-60,top:90,fixed:0}}),this.customColAd.onError(function(e){console.error("\u3010\u6d41\u91cf\u4e3b\u7eb5\u5411\u683c\u5b50\u3011\u521d\u59cb\u5316\u6709\u8bef",e),t.showFailToast(t.getAdErrorMessage("\u7eb5\u5411\u683c\u5b50\u5e7f\u544a",e,"\u521d\u59cb\u5316\u5931\u8d25"))}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u7eb5\u5411\u683c\u5b50\u5e7f\u544aID");else console.log("\u3010\u7eb5\u5411\u683c\u5b50\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")}else console.log("\u3010\u7eb5\u5411\u683c\u5b50\u521d\u59cb\u5316\u3011Ads disabled")},t.prototype.toggleCustomColAd=function(t){void 0===t&&(t=!0),this.getPlatform()?this.customColAd&&(t?this.customColAd.show():this.customColAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u7eb5\u5411\u683c\u5b50:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.getRank=function(){void 0!==window.wx?window.wx.postMessage({event:"getRank"}):console.log("\u3010\u83b7\u53d6\u6392\u540d\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!")},t.prototype.setRank=function(t){void 0!==window.wx?window.wx.postMessage({event:"setRank",data:t}):console.log("\u3010\u8bbe\u7f6e\u6392\u540d\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!",t)},t.prototype.recordingVideoStart=function(){var t=this;void 0!==window.tt?(this.videoRecorder=window.tt.getGameRecorderManager(),this.videoRecordState=1,this.videoIsExist=0,this.videoStartTime=Date.parse((new Date).toString()),this.videoRecorder.onStart(function(){}),this.videoRecorder.start({duration:this.videoRecordTime}),this.videoRecorder.onStop(function(e){t.videoRecordState=2,t.videoPath=e.videoPath}),this.videoRecorder.onError(function(){})):console.log("\u3010\u5f55\u5c4f\u529f\u80fd\u3011\u4ec5\u652f\u6301\u6296\u97f3\u5e73\u53f0!")},t.prototype.recordingVideoEnd=function(){void 0!==window.tt?this.videoRecorder&&((Date.parse((new Date).toString())-this.videoStartTime)/1e3<=5?this.videoIsExist=1:this.videoIsExist=0,this.videoRecorder.stop()):console.log("\u3010\u5f55\u5c4f\u529f\u80fd\u3011\u4ec5\u652f\u6301\u6296\u97f3\u5e73\u53f0!")},t.prototype.recordingVideoShare=function(t,e){void 0!==window.tt?1!=this.videoIsExist?(this.videoRecordState=3,window.tt.shareAppMessage({channel:"video",title:"",imageUrl:"",query:"",extra:{videoPath:this.videoPath,videoTopics:this.videoTopics,createChallenge:!0},success:function(){t&&t()},fail:function(){e&&e()}})):console.log("\u5f55\u5236\u65f6\u95f4\u8fc7\u77ed"):console.log("\u3010\u5f55\u5c4f\u529f\u80fd\u3011\u4ec5\u652f\u6301\u6296\u97f3\u5e73\u53f0!")},t.prototype.isVideoExist=function(){return this.videoIsExist},t._instance=null,t}();function c(){return"undefined"!=typeof window?window.tt:null}n.default=r,r.prototype.showShare=function(t,e){var n=this,o=c();if(o&&o.shareAppMessage)try{o.shareAppMessage({title:this.shareTitle||"\u5206\u4eab\u4e00\u4e0b",imageUrl:this.shareImg||"",success:function(){n.sendEvent&&n.sendEvent("share_success"),t&&t()},fail:function(t){n.sendEvent&&n.sendEvent("share_fail"),e&&e(t)}})}catch(a){e&&e(a)}else e&&e({errMsg:"no tt env"})},r.prototype.addToFavorites=function(t,e){var n=this,o=c();if(!o)return this.sendEvent&&this.sendEvent("favorite_fail"),void(e&&e({errMsg:"no tt env"}));o.addFavoriteApp?o.addFavoriteApp({success:function(){n.sendEvent&&n.sendEvent("favorite_success"),t&&t()},fail:function(t){n.sendEvent&&n.sendEvent("favorite_fail"),e&&e(t)}}):o.saveAppToDesktop?o.saveAppToDesktop({success:function(){n.sendEvent&&n.sendEvent("favorite_success"),t&&t()},fail:function(t){n.sendEvent&&n.sendEvent("favorite_fail"),e&&e(t)}}):(this.sendEvent&&this.sendEvent("favorite_fail"),e&&e({errMsg:"api not available"}))},r.prototype.getMenuButtonBottom=function(){var t=c();if(t&&t.getMenuButtonBoundingClientRect)try{return t.getMenuButtonBoundingClientRect().bottom||0}catch(e){return 0}return 0},r.prototype.showRevisitGuide=function(){var t=c();if(t)try{"function"==typeof t.checkScene&&"function"==typeof t.navigateToScene?t.checkScene({scene:"sidebar",success:function(){try{t.navigateToScene({scene:"sidebar"})}catch(e){}},fail:function(){if(t.showFavoriteGuide)try{t.showFavoriteGuide({type:"bar"})}catch(e){}}}):t.showFavoriteGuide&&t.showFavoriteGuide({type:"bar"})}catch(e){}},r.prototype.sendEvent=function(t,e){var n=c();if(n&&n.reportAnalytics)try{e?n.reportAnalytics(t,e):n.reportAnalytics(t)}catch(o){}},r.prototype.initSidebarRevisit=function(t,e){var n=this,o=c();if(o&&"function"==typeof o.onShow)try{o.onShow(function(o){if(o&&"homepage"===o.launch_from&&"sidebar_card"===o.location){if(n.sendEvent&&n.sendEvent("enter_from_sidebar"),!n._sidebarRewardedOnce){n._sidebarRewardedOnce=!0,i.default.instance.powers+=i.default.instance.powerCollectByVideo,i.default.instance.save();try{a.default.instance.show("\u83b7\u5f97\u80fd\u91cf +"+i.default.instance.powerCollectByVideo,{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)})}catch(r){}try{cc.director.emit("PowerChanged")}catch(r){}}t&&t(o)}else e&&e(o)})}catch(r){}},r.prototype.onShow=function(){var t=this,e=c();if(e&&e.onShow)try{e.onShow(function(e){if(e&&"homepage"===e.launch_from&&"sidebar_card"===e.location&&(t.sendEvent&&t.sendEvent("enter_from_sidebar"),!t._sidebarRewardedOnce)){t._sidebarRewardedOnce=!0,i.default.instance.powers+=i.default.instance.powerCollectByVideo,i.default.instance.save();try{a.default.instance.show("\u83b7\u5f97\u80fd\u91cf +"+i.default.instance.powerCollectByVideo,{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)})}catch(n){}try{cc.director.emit("PowerChanged")}catch(n){}}})}catch(n){}},r.prototype.onHideListen=function(){var t=c();if(t&&t.onHide)try{t.onHide(function(){})}catch(e){}},cc._RF.pop()},{"./AudioManager":"AudioManager","./DataManager":"DataManager","./ToastManager":"ToastManager"}],SettingLayer:[function(t,e,n){"use strict";cc._RF.push(e,"1a0aacxZX5NJqNTuBy0vbq5","SettingLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Enum"),c=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../manager/DataManager"),d=t("../manager/SdkManager"),f=cc._decorator,h=f.ccclass,p=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnClose=null,e.btnMusic=null,e.btnSound=null,e.btnShake=null,e}return a(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnClose=cc.find("btn_close",this.panel),this.btnClose.on("click",this.onCloseClick,this),this.btnMusic=cc.find("lists/item_music/toggle",this.panel),this.btnMusic.on("click",this.onMusicClick,this),this.btnSound=cc.find("lists/item_sound/toggle",this.panel),this.btnSound.on("click",this.onSoundClick,this),this.btnShake=cc.find("lists/item_shake/toggle",this.panel),this.btnShake.on("click",this.onShakeClick,this)},e.prototype.onDestroy=function(){this.btnClose.off("click",this.onCloseClick,this),this.btnMusic.off("click",this.onMusicClick,this),this.btnSound.off("click",this.onSoundClick,this),this.btnShake.off("click",this.onShakeClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),this.rendorMusic(),this.rendorSound(),this.rendorShake(),d.default.instance.showInterstitialAd(),d.default.instance.toggleCustomColAd(!0)},e.prototype.onDisable=function(){d.default.instance.toggleCustomColAd(!1)},e.prototype.onCloseClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(r.ENUM_UI_TYPE.SETTING,!1),c.StaticInstance.uiManager.toggle(r.ENUM_UI_TYPE.MENU)},e.prototype.onSoundClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isSoundOn=!u.default.instance.isSoundOn,u.default.instance.save(),this.rendorSound()},e.prototype.onMusicClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isMusicOn=!u.default.instance.isMusicOn,u.default.instance.save(),u.default.instance.isMusicOn?s.default.instance.playMusic():s.default.instance.stopMusic(),this.rendorMusic()},e.prototype.onShakeClick=function(){s.default.instance.playSound(r.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isShakeOn=!u.default.instance.isShakeOn,u.default.instance.save(),this.rendorShake()},e.prototype.rendorMusic=function(){this.btnMusic.getChildByName("on").active=u.default.instance.isMusicOn,this.btnMusic.getChildByName("off").active=!u.default.instance.isMusicOn},e.prototype.rendorSound=function(){this.btnSound.getChildByName("on").active=u.default.instance.isSoundOn,this.btnSound.getChildByName("off").active=!u.default.instance.isSoundOn},e.prototype.rendorShake=function(){this.btnShake.getChildByName("on").active=u.default.instance.isShakeOn,this.btnShake.getChildByName("off").active=!u.default.instance.isShakeOn},i([h],e)}(l.default));n.default=p,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],SidebarGuideLayer:[function(t,e,n){"use strict";cc._RF.push(e,"cdb5aJyxwxBeZ12pMwoEJcV","SidebarGuideLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../manager/SdkManager"),c=t("../manager/DataManager"),s=cc._decorator.ccclass,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return a(e,t),n=e,e.prototype.onLoad=function(){var t=this,e=new cc.Node,n=(e.addComponent(cc.Sprite),new cc.Color(0,0,0,180)),o=e.addComponent(cc.Graphics);this.node.addChild(e);var a=new cc.Node,i=a.addComponent(cc.Graphics);this.node.addChild(a);var c=new cc.Node,s=c.addComponent(cc.Label);s.string="\u4fa7\u8fb9\u680f\u590d\u8bbf\u4efb\u52a1",s.fontSize=40,s.lineHeight=46,s.horizontalAlign=cc.Label.HorizontalAlign.CENTER,a.addChild(c);var l=new cc.Node,u=l.addComponent(cc.Label);u.fontSize=28,u.lineHeight=36,u.horizontalAlign=cc.Label.HorizontalAlign.LEFT,u.overflow=cc.Label.Overflow.RESIZE_HEIGHT,l.width=520,l.height=200,a.addChild(l);var d=new cc.Node;a.addChild(d);var f=function(e,n,o){var a=new cc.Node,i=(a.addComponent(cc.Graphics),new cc.Node),r=i.addComponent(cc.Label);return r.string=e,r.fontSize=30,r.lineHeight=34,r.horizontalAlign=cc.Label.HorizontalAlign.CENTER,a.addChild(i),a.on(cc.Node.EventType.TOUCH_END,o,t),a.__bgcolor=n,a},h=f("\u8fdb\u5165\u4fa7\u8fb9\u680f",new cc.Color(24,144,255,255),function(){try{cc.director.emit("SidebarGuide:Go")}catch(t){}try{r.default.instance.showRevisitGuide&&r.default.instance.showRevisitGuide()}catch(t){}}),p=f("\u6211\u5df2\u5b8c\u6210",new cc.Color(102,202,28,255),function(){t.close()});d.addChild(h),d.addChild(p),this._refs={mask:e,maskG:o,maskColor:n,panel:a,panelG:i,titleNode:c,stepsNode:l,btnRow:d,goBtn:h,doneBtn:p}},e.prototype.onEnable=function(){var t=cc.director.getScene().getComponentInChildren(cc.Canvas).node,e=t.width,n=t.height;this.node.width=e,this.node.height=n;var o=this._refs,a=(o.mask,o.maskG),i=o.maskColor,r=o.panel,s=o.panelG,l=o.titleNode,u=o.stepsNode,d=o.btnRow,f=o.goBtn,h=o.doneBtn;a.clear(),a.fillColor=i,a.rect(-e/2,-n/2,e,n),a.fill();var p=Math.min(600,e-80);r.setContentSize(p,420),r.y=0,r.x=0,s.clear(),s.fillColor=new cc.Color(255,255,255,255);var g=-p/2;s.roundRect(g,-210,p,420,16),s.fill(),l.y=160,l.x=0;var y=["1\uff09\u70b9\u51fb\u53f3\u4e0a\u89d2\u201c...\u201d\u6253\u5f00\u83dc\u5355","2\uff09\u5c06\u5c0f\u6e38\u620f\u6dfb\u52a0\u5230\u4fa7\u8fb9\u680f","3\uff09\u4ece\u4fa7\u8fb9\u680f\u518d\u6b21\u6253\u5f00\u672c\u6e38\u620f","4\uff09\u56de\u5230\u6e38\u620f\u540e\u81ea\u52a8\u53d1\u653e\u5956\u52b1\uff08\u80fd\u91cf +"+(c.default&&c.default.instance?c.default.instance.powerCollectByVideo:0)+"\uff09"].join("\n");u.getComponent(cc.Label).string=y,u.y=40,u.x=-p/2+40,d.y=-150,d.x=0;var v=function(t,e){var n=t.getComponent(cc.Graphics);n.clear(),n.fillColor=t.__bgcolor||new cc.Color(102,102,102,255),n.roundRect(-e/2,-30,e,60,12),n.fill(),t.children[0].y=-3},_=(p-20)/2-40;f.x=-20,h.x=20,v(f,_),v(h,_)},e.prototype.close=function(){try{this.node.destroy()}catch(t){}},e.showOnCanvas=function(){var t=cc.director.getScene().getComponentInChildren(cc.Canvas),e=new cc.Node;return t.node.addChild(e),e.zIndex=9999,e.setSiblingIndex(t.node.childrenCount-1),e.addComponent(n)},n=i([s("SidebarGuideLayer")],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager"}],StaticInstance:[function(t,e,n){"use strict";cc._RF.push(e,"93f9fIyowFCpoTxHvXyssyM","StaticInstance"),Object.defineProperty(n,"__esModule",{value:!0}),n.StaticInstance=void 0;var o=function(){function t(){}return t.setUIManager=function(e){t.uiManager=e},t.setGameManager=function(e){t.gameManager=e},t.setFadeManager=function(e){t.fadeManager=e},t.uiManager=void 0,t.gameManager=void 0,t.fadeManager=void 0,t}();n.StaticInstance=o,cc._RF.pop()},{}],ToastManager:[function(t,e,n){"use strict";cc._RF.push(e,"65526wGEY1OtL0HXs6ylAE2","ToastManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.show=function(e,n){void 0===e&&(e="");var o=void 0===n?{}:n,a=o.gravity,i=void 0===a?"CENTER":a,r=o.duration,c=void 0===r?1:r,s=o.bg_color,l=void 0===s?cc.color(102,102,102,200):s,u=cc.director.getScene().getComponentInChildren(cc.Canvas),d=u.node.width,f=u.node.height;try{t._currentNode&&cc.isValid(t._currentNode)&&t._currentNode.destroy()}catch(m){}var h=new cc.Node;h.group="ui";var p=new cc.Node,g=p.addComponent(cc.Label);g.horizontalAlign=cc.Label.HorizontalAlign.CENTER,g.verticalAlign=cc.Label.VerticalAlign.CENTER,g.fontSize=30,g.string=e,e.length*g.fontSize>3*d/5?(p.width=3*d/5,g.overflow=cc.Label.Overflow.RESIZE_HEIGHT):p.width=e.length*g.fontSize;var y=1+~~(e.length*g.fontSize/(3*d/5));p.height=g.fontSize*y;var v=h.addComponent(cc.Graphics);v.arc(-p.width/2,0,p.height/2+20,.5*Math.PI,1.5*Math.PI,!0),v.lineTo(p.width/2,-(p.height/2+20)),v.arc(p.width/2,0,p.height/2+20,1.5*Math.PI,.5*Math.PI,!0),v.lineTo(-p.width/2,p.height/2+20),v.fillColor=l,v.fill(),h.addChild(p),"CENTER"===i?(h.y=0,h.x=0):"TOP"===i?h.y=h.y+f/5*2:"BOTTOM"===i&&(h.y=h.y-f/5*2),u.node.addChild(h),t._currentNode=h;var _=cc.callFunc(function(){try{cc.isValid(h)&&h.destroy()}catch(m){}t._currentNode===h&&(t._currentNode=null)}),b=cc.sequence(cc.moveBy(c,cc.v2(0,0)),cc.fadeOut(.3),_);cc.tween(h).then(b).start()},t._instance=null,t._currentNode=null,t}();n.default=o,cc._RF.pop()},{}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"d8b44067ShG7IzfSj2CqGMD","UIManager");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./../Enum"),c=t("./../StaticInstance"),s=t("./PoolManager"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiMap=new Map,e}return a(e,t),e.prototype.onLoad=function(){c.StaticInstance.setUIManager(this)},e.prototype.init=function(){for(var t in r.ENUM_UI_TYPE){var e=s.default.instance.getNode(r.ENUM_UI_TYPE[t],this.node);e&&!this.uiMap.has(r.ENUM_UI_TYPE[t])&&(e.active=!1,e.addComponent(r.ENUM_UI_TYPE[t]),this.uiMap.set(r.ENUM_UI_TYPE[t],e.getComponent(r.ENUM_UI_TYPE[t])))}},e.prototype.toggle=function(t,e,n){if(void 0===e&&(e=!0),this.uiMap.has(t)){var o=this.uiMap.get(t);e?o.show():o.hide(),console.log("\u5f53\u524d\u754c\u9762\u5c42\uff1a",t,e?"\u663e\u793a":"\u5173\u95ed"),n&&n()}},e.prototype.isActive=function(t){return!!this.uiMap.has(t)&&this.uiMap.get(t).node.active},e.prototype.getActiveTypes=function(){var t=this,e=[];return this.uiMap.forEach(function(n,o){t.isActive(o)&&e.push(o)}),e},e.prototype.setMainLevel=function(){var t=this.uiMap.get(r.ENUM_UI_TYPE.MAIN);null==t||t.rendorLevel()},e.prototype.setMainTimer=function(t,e){void 0===t&&(t=!0);var n=this.uiMap.get(r.ENUM_UI_TYPE.MAIN);t?null==n||n.onTimerStart(e):null==n||n.onTimerStop()},e.prototype.setMainTimerSound=function(t,e){void 0===t&&(t=!0);var n=this.uiMap.get(r.ENUM_UI_TYPE.MAIN);t?null==n||n.onTimerSoundStart(e):null==n||n.onTimerSoundStop()},e.prototype.setMainProgress=function(t){void 0===t&&(t=!1);var e=this.uiMap.get(r.ENUM_UI_TYPE.MAIN);null==e||e.onProgressStart(t)},e.prototype.setMainPowerCollect=function(t){void 0===t&&(t=!1);var e=this.uiMap.get(r.ENUM_UI_TYPE.MAIN);null==e||e.rendorPowerCollect()},i([u],e)}(cc.Component));n.default=d,cc._RF.pop()},{"./../Enum":"Enum","./../StaticInstance":"StaticInstance","./PoolManager":"PoolManager"}],UIScrollControl:[function(t,e,n){"use strict";cc._RF.push(e,"e6235MOwRpI+bzS2hVblkfN","UIScrollControl");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ENUM_SCROLL_DIR=void 0;var r,c=cc._decorator,s=c.ccclass;c.property,function(t){t[t.V=0]="V",t[t.H=1]="H"}(r=n.ENUM_SCROLL_DIR||(n.ENUM_SCROLL_DIR={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.contentSize=null,e.scrollDirection=r.V,e.totalCount=0,e.itemCount=0,e.childrenList=[],e.itemDistance=0,e.contentSizeStart=null,e.isStartFlag=!1,e.theMaxID=0,e.refreshCB=null,e}return a(e,t),e.prototype.init=function(t,e,n,o,a,i){if(a&&(this.refreshCB=a),0==this.isStartFlag){if(this.scrollView=this.node.getComponent(cc.ScrollView),null==this.scrollView||null==this.scrollView.content)return;this.scrollView.content.parent.setAnchorPoint(cc.v2(.5,.5));var c=this.scrollView.content.parent.getComponent(cc.Widget);null==c&&(c=this.scrollView.content.parent.addComponent(cc.Widget)),c.isAlignLeft=!0,c.left=0,c.isAlignRight=!0,c.right=0,c.isAlignTop=!0,c.top=0,c.isAlignBottom=!0,c.bottom=0,this.contentSize=new cc.Size(this.scrollView.node.getContentSize()),this.scrollView.content.setContentSize(this.contentSize),this.contentSizeStart=this.scrollView.content.getContentSize()}if(null!=t){if(this.scrollView.content.setContentSize(this.contentSizeStart),this.clear(),this.totalCount=e,this.scrollDirection=o,o==r.V){this.scrollView.content.setAnchorPoint(cc.v2(.5,1)),this.scrollView.content.setContentSize(cc.size(this.contentSizeStart.width,this.totalCount*n.height)),this.scrollView.content.setPosition(cc.v2(0,-this.totalCount*n.height/2));var s=Math.floor(this.contentSizeStart.height/n.height);this.itemCount=s+2,this.totalCount<=this.itemCount&&(this.itemCount=this.totalCount),this.itemDistance=n.height}else o==r.H&&(this.scrollView.content.setAnchorPoint(cc.v2(0,.5)),this.scrollView.content.setContentSize(cc.size(this.totalCount*n.width,this.contentSizeStart.height)),this.scrollView.content.setPosition(cc.v2(this.totalCount*n.width/2,0)),s=Math.floor(this.contentSizeStart.width/n.width),this.itemCount=s+2,this.totalCount<=this.itemCount&&(this.itemCount=this.totalCount),this.itemDistance=n.width);if(this.scrollView.scrollEvents.length<=0){var l=new cc.Component.EventHandler;l.target=this.node,l.component="UIScrollControl",l.handler="OnScroll",this.scrollView.scrollEvents.push(l)}this.isStartFlag,this.theMaxID=0,this.initShowAreaItems(t,i)}},e.prototype.clear=function(){this.scrollView.content.removeAllChildren(),this.childrenList=[]},e.prototype.initShowAreaItems=function(t,e){for(var n=0;n<this.itemCount;n++){var o=cc.v2(0,0),a=cc.instantiate(t);this.scrollView.content.addChild(a),a.active=!0,a.opacity=255,this.scrollDirection==r.V?o.y=-this.itemDistance/2-this.itemDistance*n:this.scrollDirection==r.H&&(o.x=this.itemDistance/2+this.itemDistance*n),a.name="cell_"+n,a.setAnchorPoint(cc.v2(.5,.5)),a.setPosition(o),this.onRefresh(a,n,n),this.childrenList.push(a)}e&&e(this.scrollView)},e.prototype.OnScroll=function(){var t=this.scrollView.getScrollOffset(),e=0;this.scrollDirection==r.V?e=t.y:this.scrollDirection==r.H&&(e=-t.x),this.refreshLayout(e)},e.prototype.refreshLayout=function(t){var e=t,n=this.totalCount*this.itemDistance;if(!(e<0||e+this.contentSize.height>=n)){for(var o=0,a=Math.floor(e/this.itemDistance),i=0;i<this.itemCount;i++){var r=this.childrenList[i];o=a+i,this.refreshItem(o,i,r)}this.theMaxID=a+this.itemCount}},e.prototype.refreshItem=function(t,e,n){if(!(t<0||t>=this.totalCount)&&null!=n){var o=cc.Vec2.ZERO;this.scrollDirection==r.H?o.x=this.itemDistance/2+this.itemDistance*t:this.scrollDirection==r.V&&(o.y=-this.itemDistance/2-this.itemDistance*t),n.setPosition(o),this.onRefresh(n,t,e)}},e.prototype.onRefresh=function(t,e,n){null!=this.refreshCB&&this.refreshCB(t,e,n)},i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"1ccc3Pa3fdGUJUnDiya6JDg","Utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.uuid=n.wxAvatar=n.toXY=n.getAngle=n.getDistance=n.formatSeconds=n.sortSpriteNameByNum=n.splitArray=n.shuffle=n.random=void 0,n.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},n.shuffle=function(t){for(var e,n,o=t.length;o;)n=t[e=Math.floor(Math.random()*o--)],t[e]=t[o],t[o]=n;return t},n.splitArray=function(t,e,n){for(var o=[],a=[],i=0;i<t.length&&(a.push(t[i]),a.length===n&&(o.push(a),a=[]),o.length!==e);i++);for(;o.length<e;)o.push([]);return o},n.sortSpriteNameByNum=function(t){var e=function(t){return parseInt(t.match(/\d+/g)[0]||"0")};return t.sort(function(t,n){return e(t.name)-e(n.name)})},n.formatSeconds=function(t,e){void 0===e&&(e="h:i:s"),t=Number(t);var n={};return n.h=Number.parseInt(String(t/3600)),n.i=Number.parseInt(String((t-3600*n.h)/60)),n.s=Number.parseInt(String(t-3600*n.h-60*n.i)),n.h<10&&(n.h="0"+n.h),n.i<10&&(n.i="0"+n.i),n.s<10&&(n.s="0"+n.s),e.replace("h",n.h).replace("i",n.i).replace("s",n.s)},n.getDistance=function(t,e){var n=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(n.x*n.x+n.y*n.y)},n.getAngle=function(t,e){var n=e.x-t.x,o=e.y-t.y;return-cc.v2(n,o).signAngle(cc.v2(1,0))/Math.PI*180},n.toXY=function(t,e){var n=t.convertToWorldSpaceAR(cc.v2(0,0));return e.convertToNodeSpaceAR(n)},n.wxAvatar=function(t,e){if(void 0===e&&(e=!0),e)t+="?sail.jpg";else{var n=(new Date).getTime();t+="?sail="+n+".jpg"}return new Promise(function(e,n){cc.loader.load(t,function(t,o){t&&n&&n(),e&&e(o)})})},n.uuid=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})},cc._RF.pop()},{}],WinLayer:[function(t,e,n){"use strict";cc._RF.push(e,"38aca0oW05L14APgJWH0shJ","WinLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enum"),l=t("./../StaticInstance"),u=t("../manager/AudioManager"),d=t("../manager/SdkManager"),f=t("../manager/ToastManager"),h=t("./HeaderLayer"),p=t("../manager/DataManager"),g=cc._decorator,y=g.ccclass,v=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnNext=null,e.btnDouble=null,e.powerCollect=null,e}return a(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.panel=cc.find("style/panel",this.node),this.btnNext=cc.find("buttons/btn_next",this.panel),this.btnDouble=cc.find("buttons/btn_double",this.panel),this.btnNext.on("click",this.onNextClick,this),this.btnDouble.on("click",this.onDoubleClick,this),this.powerCollect=cc.find("num",this.panel)},e.prototype.onDestroy=function(){this.btnNext.off("click",this.onNextClick,this),this.btnDouble.off("click",this.onDoubleClick,this)},e.prototype.onEnable=function(){this.rendorHeart(),this.rendorPower(),this.rendorHeartTimer(),this.rendorPowerCollect(),this.zoomIn(this.panel),d.default.instance.toggleCustomColAd(!0)},e.prototype.onDisable=function(){d.default.instance.toggleCustomColAd(!1)},e.prototype.rendorPowerCollect=function(){this.powerCollect.getComponent(cc.Label).string="x "+p.default.instance.powerCollectCurrent},e.prototype.onNextClick=function(){return r(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),p.default.instance.powers+=p.default.instance.powerCollectCurrent,p.default.instance.save(),[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.WIN,!1),l.StaticInstance.gameManager.onGameStart(),[2]}})})},e.prototype.onDoubleClick=function(){var t=this;u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),d.default.instance.showVideoAd(function(e){return r(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return d.default.instance.getPlatform()||f.default.instance.show(e,{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)}),u.default.instance.playSound(s.ENUM_AUDIO_CLIP.MONEY),p.default.instance.powers+=5*p.default.instance.powerCollectCurrent,p.default.instance.save(),[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.WIN,!1),l.StaticInstance.gameManager.onGameStart(),[2]}})})},function(t){f.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})})},i([y],e)}(h.default));n.default=v,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./HeaderLayer":"HeaderLayer"}]},{},["Enum","Index","StaticInstance","Utils","Bottle","Container","Baselayer","ExitLayer","HeaderLayer","IceLayer","LoadingLayer","LoseLayer","MainLayer","MenuLayer","RankLayer","SettingLayer","SidebarGuideLayer","WinLayer","AudioManager","DataManager","EffectManager","EventManager","FadeManager","GameManager","PoolManager","ResourceManager","SdkManager","ToastManager","UIManager","UIScrollControl"]);